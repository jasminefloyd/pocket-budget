(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var vc={exports:{}},Si={},yc={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Symbol.for("react.element"),_f=Symbol.for("react.portal"),kf=Symbol.for("react.fragment"),Sf=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),Ef=Symbol.for("react.provider"),jf=Symbol.for("react.context"),Cf=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Tf=Symbol.for("react.memo"),bf=Symbol.for("react.lazy"),Al=Symbol.iterator;function Pf(t){return t===null||typeof t!="object"?null:(t=Al&&t[Al]||t["@@iterator"],typeof t=="function"?t:null)}var wc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_c=Object.assign,kc={};function ir(t,e,n){this.props=t,this.context=e,this.refs=kc,this.updater=n||wc}ir.prototype.isReactComponent={};ir.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ir.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sc(){}Sc.prototype=ir.prototype;function Aa(t,e,n){this.props=t,this.context=e,this.refs=kc,this.updater=n||wc}var Ia=Aa.prototype=new Sc;Ia.constructor=Aa;_c(Ia,ir.prototype);Ia.isPureReactComponent=!0;var Il=Array.isArray,xc=Object.prototype.hasOwnProperty,$a={current:null},Ec={key:!0,ref:!0,__self:!0,__source:!0};function jc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)xc.call(e,r)&&!Ec.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:is,type:t,key:i,ref:o,props:s,_owner:$a.current}}function Of(t,e){return{$$typeof:is,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function La(t){return typeof t=="object"&&t!==null&&t.$$typeof===is}function Rf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $l=/\/+/g;function Hi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rf(""+t.key):e.toString(36)}function $s(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case is:case _f:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Hi(o,0):r,Il(s)?(n="",t!=null&&(n=t.replace($l,"$&/")+"/"),$s(s,e,n,"",function(u){return u})):s!=null&&(La(s)&&(s=Of(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($l,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Il(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Hi(i,a);o+=$s(i,e,n,l,s)}else if(l=Pf(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Hi(i,a++),o+=$s(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fs(t,e,n){if(t==null)return t;var r=[],s=0;return $s(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Af(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},Ls={transition:null},If={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Ls,ReactCurrentOwner:$a};function Cc(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:fs,forEach:function(t,e,n){fs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fs(t,function(){e++}),e},toArray:function(t){return fs(t,function(e){return e})||[]},only:function(t){if(!La(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=ir;z.Fragment=kf;z.Profiler=xf;z.PureComponent=Aa;z.StrictMode=Sf;z.Suspense=Nf;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=If;z.act=Cc;z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_c({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=$a.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xc.call(e,l)&&!Ec.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:is,type:t.type,key:s,ref:i,props:r,_owner:o}};z.createContext=function(t){return t={$$typeof:jf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ef,_context:t},t.Consumer=t};z.createElement=jc;z.createFactory=function(t){var e=jc.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Cf,render:t}};z.isValidElement=La;z.lazy=function(t){return{$$typeof:bf,_payload:{_status:-1,_result:t},_init:Af}};z.memo=function(t,e){return{$$typeof:Tf,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=Ls.transition;Ls.transition={};try{t()}finally{Ls.transition=e}};z.unstable_act=Cc;z.useCallback=function(t,e){return Te.current.useCallback(t,e)};z.useContext=function(t){return Te.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};z.useEffect=function(t,e){return Te.current.useEffect(t,e)};z.useId=function(){return Te.current.useId()};z.useImperativeHandle=function(t,e,n){return Te.current.useImperativeHandle(t,e,n)};z.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Te.current.useMemo(t,e)};z.useReducer=function(t,e,n){return Te.current.useReducer(t,e,n)};z.useRef=function(t){return Te.current.useRef(t)};z.useState=function(t){return Te.current.useState(t)};z.useSyncExternalStore=function(t,e,n){return Te.current.useSyncExternalStore(t,e,n)};z.useTransition=function(){return Te.current.useTransition()};z.version="18.3.1";yc.exports=z;var A=yc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f=A,Lf=Symbol.for("react.element"),Df=Symbol.for("react.fragment"),Uf=Object.prototype.hasOwnProperty,Mf=$f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bf={key:!0,ref:!0,__self:!0,__source:!0};function Nc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Uf.call(e,r)&&!Bf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Lf,type:t,key:i,ref:o,props:s,_owner:Mf.current}}Si.Fragment=Df;Si.jsx=Nc;Si.jsxs=Nc;vc.exports=Si;var c=vc.exports,Tc={exports:{}},We={},bc={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var U=O.length;O.push(L);e:for(;0<U;){var G=U-1>>>1,ne=O[G];if(0<s(ne,L))O[G]=L,O[U]=ne,U=G;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],U=O.pop();if(U!==L){O[0]=U;e:for(var G=0,ne=O.length,mt=ne>>>1;G<mt;){var Ee=2*(G+1)-1,tn=O[Ee],b=Ee+1,y=O[b];if(0>s(tn,U))b<ne&&0>s(y,tn)?(O[G]=y,O[b]=U,G=b):(O[G]=tn,O[Ee]=U,G=Ee);else if(b<ne&&0>s(y,U))O[G]=y,O[b]=U,G=b;else break e}}return L}function s(O,L){var U=O.sortIndex-L.sortIndex;return U!==0?U:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,m=3,w=!1,_=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(O){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=O)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function v(O){if(k=!1,g(O),!_)if(n(l)!==null)_=!0,xe(x);else{var L=n(u);L!==null&&ut(v,L.startTime-O)}}function x(O,L){_=!1,k&&(k=!1,p(I),I=-1),w=!0;var U=m;try{for(g(L),f=n(l);f!==null&&(!(f.expirationTime>L)||O&&!W());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var ne=G(f.expirationTime<=L);L=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(l)&&r(l),g(L)}else r(l);f=n(l)}if(f!==null)var mt=!0;else{var Ee=n(u);Ee!==null&&ut(v,Ee.startTime-L),mt=!1}return mt}finally{f=null,m=U,w=!1}}var E=!1,T=null,I=-1,V=5,j=-1;function W(){return!(t.unstable_now()-j<V)}function Le(){if(T!==null){var O=t.unstable_now();j=O;var L=!0;try{L=T(!0,O)}finally{L?De():(E=!1,T=null)}}else E=!1}var De;if(typeof h=="function")De=function(){h(Le)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,lt=Xe.port2;Xe.port1.onmessage=Le,De=function(){lt.postMessage(null)}}else De=function(){S(Le,0)};function xe(O){T=O,E||(E=!0,De())}function ut(O,L){I=S(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||w||(_=!0,xe(x))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var U=m;m=L;try{return O()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=m;m=O;try{return L()}finally{m=U}},t.unstable_scheduleCallback=function(O,L,U){var G=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,O){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=U+ne,O={id:d++,callback:L,priorityLevel:O,startTime:U,expirationTime:ne,sortIndex:-1},U>G?(O.sortIndex=U,e(u,O),n(l)===null&&O===n(u)&&(k?(p(I),I=-1):k=!0,ut(v,U-G))):(O.sortIndex=ne,e(l,O),_||w||(_=!0,xe(x))),O},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(O){var L=m;return function(){var U=m;m=L;try{return O.apply(this,arguments)}finally{m=U}}}})(Pc);bc.exports=Pc;var Ff=bc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=A,ze=Ff;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oc=new Set,Mr={};function _n(t,e){Yn(t,e),Yn(t+"Capture",e)}function Yn(t,e){for(Mr[t]=e,t=0;t<e.length;t++)Oc.add(e[t])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=Object.prototype.hasOwnProperty,Wf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ll={},Dl={};function qf(t){return To.call(Dl,t)?!0:To.call(Ll,t)?!1:Wf.test(t)?Dl[t]=!0:(Ll[t]=!0,!1)}function Hf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vf(t,e,n,r){if(e===null||typeof e>"u"||Hf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function be(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new be(t,5,!1,t.toLowerCase(),null,!1,!1)});var Da=/[\-:]([a-z])/g;function Ua(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Da,Ua);ve[e]=new be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Da,Ua);ve[e]=new be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Da,Ua);ve[e]=new be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new be(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new be(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ma(t,e,n,r){var s=ve.hasOwnProperty(e)?ve[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vf(e,n,s,r)&&(n=null),r||s===null?qf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pt=zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),An=Symbol.for("react.portal"),In=Symbol.for("react.fragment"),Ba=Symbol.for("react.strict_mode"),bo=Symbol.for("react.profiler"),Rc=Symbol.for("react.provider"),Ac=Symbol.for("react.context"),Fa=Symbol.for("react.forward_ref"),Po=Symbol.for("react.suspense"),Oo=Symbol.for("react.suspense_list"),za=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Ic=Symbol.for("react.offscreen"),Ul=Symbol.iterator;function hr(t){return t===null||typeof t!="object"?null:(t=Ul&&t[Ul]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,Vi;function Sr(t){if(Vi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vi=e&&e[1]||""}return`
`+Vi+t}var Gi=!1;function Ki(t,e){if(!t||Gi)return"";Gi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sr(t):""}function Gf(t){switch(t.tag){case 5:return Sr(t.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 2:case 15:return t=Ki(t.type,!1),t;case 11:return t=Ki(t.type.render,!1),t;case 1:return t=Ki(t.type,!0),t;default:return""}}function Ro(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case In:return"Fragment";case An:return"Portal";case bo:return"Profiler";case Ba:return"StrictMode";case Po:return"Suspense";case Oo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ac:return(t.displayName||"Context")+".Consumer";case Rc:return(t._context.displayName||"Context")+".Provider";case Fa:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case za:return e=t.displayName||null,e!==null?e:Ro(t.type)||"Memo";case It:e=t._payload,t=t._init;try{return Ro(t(e))}catch{}}return null}function Kf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ro(e);case 8:return e===Ba?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $c(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qf(t){var e=$c(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gs(t){t._valueTracker||(t._valueTracker=Qf(t))}function Lc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$c(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Js(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ao(t,e){var n=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ml(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dc(t,e){e=e.checked,e!=null&&Ma(t,"checked",e,!1)}function Io(t,e){Dc(t,e);var n=Qt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$o(t,e.type,n):e.hasOwnProperty("defaultValue")&&$o(t,e.type,Qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $o(t,e,n){(e!=="number"||Js(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xr=Array.isArray;function Hn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Lo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Fl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(xr(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qt(n)}}function Uc(t,e){var n=Qt(e.value),r=Qt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Do(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ms,Bc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ms.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Br(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jf=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(t){Jf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nr[e]=Nr[t]})});function Fc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nr.hasOwnProperty(t)&&Nr[t]?(""+e).trim():e+"px"}function zc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Yf=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uo(t,e){if(e){if(Yf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Mo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=null;function Wa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fo=null,Vn=null,Gn=null;function Wl(t){if(t=ls(t)){if(typeof Fo!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Ni(e),Fo(t.stateNode,t.type,e))}}function Wc(t){Vn?Gn?Gn.push(t):Gn=[t]:Vn=t}function qc(){if(Vn){var t=Vn,e=Gn;if(Gn=Vn=null,Wl(t),e)for(t=0;t<e.length;t++)Wl(e[t])}}function Hc(t,e){return t(e)}function Vc(){}var Qi=!1;function Gc(t,e,n){if(Qi)return t(e,n);Qi=!0;try{return Hc(t,e,n)}finally{Qi=!1,(Vn!==null||Gn!==null)&&(Vc(),qc())}}function Fr(t,e){var n=t.stateNode;if(n===null)return null;var r=Ni(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var zo=!1;if(Ct)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){zo=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{zo=!1}function Xf(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Tr=!1,Ys=null,Xs=!1,Wo=null,Zf={onError:function(t){Tr=!0,Ys=t}};function ep(t,e,n,r,s,i,o,a,l){Tr=!1,Ys=null,Xf.apply(Zf,arguments)}function tp(t,e,n,r,s,i,o,a,l){if(ep.apply(this,arguments),Tr){if(Tr){var u=Ys;Tr=!1,Ys=null}else throw Error(N(198));Xs||(Xs=!0,Wo=u)}}function kn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Kc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ql(t){if(kn(t)!==t)throw Error(N(188))}function np(t){var e=t.alternate;if(!e){if(e=kn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ql(s),t;if(i===r)return ql(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Qc(t){return t=np(t),t!==null?Jc(t):null}function Jc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jc(t);if(e!==null)return e;t=t.sibling}return null}var Yc=ze.unstable_scheduleCallback,Hl=ze.unstable_cancelCallback,rp=ze.unstable_shouldYield,sp=ze.unstable_requestPaint,se=ze.unstable_now,ip=ze.unstable_getCurrentPriorityLevel,qa=ze.unstable_ImmediatePriority,Xc=ze.unstable_UserBlockingPriority,Zs=ze.unstable_NormalPriority,op=ze.unstable_LowPriority,Zc=ze.unstable_IdlePriority,xi=null,pt=null;function ap(t){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:cp,lp=Math.log,up=Math.LN2;function cp(t){return t>>>=0,t===0?32:31-(lp(t)/up|0)|0}var vs=64,ys=4194304;function Er(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ei(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Er(a):(i&=o,i!==0&&(r=Er(i)))}else o=n&~s,o!==0?r=Er(o):i!==0&&(r=Er(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-it(e),s=1<<n,r|=t[n],e&=~s;return r}function dp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-it(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=dp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function qo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ed(){var t=vs;return vs<<=1,!(vs&4194240)&&(vs=64),t}function Ji(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function os(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=n}function fp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-it(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ha(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var H=0;function td(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nd,Va,rd,sd,id,Ho=!1,ws=[],Ft=null,zt=null,Wt=null,zr=new Map,Wr=new Map,Lt=[],pp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vl(t,e){switch(t){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":zt=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":zr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(e.pointerId)}}function pr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ls(e),e!==null&&Va(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function gp(t,e,n,r,s){switch(e){case"focusin":return Ft=pr(Ft,t,e,n,r,s),!0;case"dragenter":return zt=pr(zt,t,e,n,r,s),!0;case"mouseover":return Wt=pr(Wt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return zr.set(i,pr(zr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wr.set(i,pr(Wr.get(i)||null,t,e,n,r,s)),!0}return!1}function od(t){var e=cn(t.target);if(e!==null){var n=kn(e);if(n!==null){if(e=n.tag,e===13){if(e=Kc(n),e!==null){t.blockedOn=e,id(t.priority,function(){rd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ds(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bo=r,n.target.dispatchEvent(r),Bo=null}else return e=ls(n),e!==null&&Va(e),t.blockedOn=n,!1;e.shift()}return!0}function Gl(t,e,n){Ds(t)&&n.delete(e)}function mp(){Ho=!1,Ft!==null&&Ds(Ft)&&(Ft=null),zt!==null&&Ds(zt)&&(zt=null),Wt!==null&&Ds(Wt)&&(Wt=null),zr.forEach(Gl),Wr.forEach(Gl)}function gr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ho||(Ho=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,mp)))}function qr(t){function e(s){return gr(s,t)}if(0<ws.length){gr(ws[0],t);for(var n=1;n<ws.length;n++){var r=ws[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ft!==null&&gr(Ft,t),zt!==null&&gr(zt,t),Wt!==null&&gr(Wt,t),zr.forEach(e),Wr.forEach(e),n=0;n<Lt.length;n++)r=Lt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lt.length&&(n=Lt[0],n.blockedOn===null);)od(n),n.blockedOn===null&&Lt.shift()}var Kn=Pt.ReactCurrentBatchConfig,ti=!0;function vp(t,e,n,r){var s=H,i=Kn.transition;Kn.transition=null;try{H=1,Ga(t,e,n,r)}finally{H=s,Kn.transition=i}}function yp(t,e,n,r){var s=H,i=Kn.transition;Kn.transition=null;try{H=4,Ga(t,e,n,r)}finally{H=s,Kn.transition=i}}function Ga(t,e,n,r){if(ti){var s=Vo(t,e,n,r);if(s===null)oo(t,e,r,ni,n),Vl(t,r);else if(gp(s,t,e,n,r))r.stopPropagation();else if(Vl(t,r),e&4&&-1<pp.indexOf(t)){for(;s!==null;){var i=ls(s);if(i!==null&&nd(i),i=Vo(t,e,n,r),i===null&&oo(t,e,r,ni,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else oo(t,e,r,null,n)}}var ni=null;function Vo(t,e,n,r){if(ni=null,t=Wa(r),t=cn(t),t!==null)if(e=kn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Kc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ni=t,null}function ad(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ip()){case qa:return 1;case Xc:return 4;case Zs:case op:return 16;case Zc:return 536870912;default:return 16}default:return 16}}var Mt=null,Ka=null,Us=null;function ld(){if(Us)return Us;var t,e=Ka,n=e.length,r,s="value"in Mt?Mt.value:Mt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Us=s.slice(t,1<r?1-r:void 0)}function Ms(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _s(){return!0}function Kl(){return!1}function qe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_s:Kl,this.isPropagationStopped=Kl,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),e}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=qe(or),as=te({},or,{view:0,detail:0}),wp=qe(as),Yi,Xi,mr,Ei=te({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ja,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mr&&(mr&&t.type==="mousemove"?(Yi=t.screenX-mr.screenX,Xi=t.screenY-mr.screenY):Xi=Yi=0,mr=t),Yi)},movementY:function(t){return"movementY"in t?t.movementY:Xi}}),Ql=qe(Ei),_p=te({},Ei,{dataTransfer:0}),kp=qe(_p),Sp=te({},as,{relatedTarget:0}),Zi=qe(Sp),xp=te({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Ep=qe(xp),jp=te({},or,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cp=qe(jp),Np=te({},or,{data:0}),Jl=qe(Np),Tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Op(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pp[t])?!!e[t]:!1}function Ja(){return Op}var Rp=te({},as,{key:function(t){if(t.key){var e=Tp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ja,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ap=qe(Rp),Ip=te({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yl=qe(Ip),$p=te({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ja}),Lp=qe($p),Dp=te({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Up=qe(Dp),Mp=te({},Ei,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Bp=qe(Mp),Fp=[9,13,27,32],Ya=Ct&&"CompositionEvent"in window,br=null;Ct&&"documentMode"in document&&(br=document.documentMode);var zp=Ct&&"TextEvent"in window&&!br,ud=Ct&&(!Ya||br&&8<br&&11>=br),Xl=" ",Zl=!1;function cd(t,e){switch(t){case"keyup":return Fp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $n=!1;function Wp(t,e){switch(t){case"compositionend":return dd(e);case"keypress":return e.which!==32?null:(Zl=!0,Xl);case"textInput":return t=e.data,t===Xl&&Zl?null:t;default:return null}}function qp(t,e){if($n)return t==="compositionend"||!Ya&&cd(t,e)?(t=ld(),Us=Ka=Mt=null,$n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ud&&e.locale!=="ko"?null:e.data;default:return null}}var Hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hp[t.type]:e==="textarea"}function hd(t,e,n,r){Wc(r),e=ri(e,"onChange"),0<e.length&&(n=new Qa("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pr=null,Hr=null;function Vp(t){xd(t,0)}function ji(t){var e=Un(t);if(Lc(e))return t}function Gp(t,e){if(t==="change")return e}var fd=!1;if(Ct){var eo;if(Ct){var to="oninput"in document;if(!to){var tu=document.createElement("div");tu.setAttribute("oninput","return;"),to=typeof tu.oninput=="function"}eo=to}else eo=!1;fd=eo&&(!document.documentMode||9<document.documentMode)}function nu(){Pr&&(Pr.detachEvent("onpropertychange",pd),Hr=Pr=null)}function pd(t){if(t.propertyName==="value"&&ji(Hr)){var e=[];hd(e,Hr,t,Wa(t)),Gc(Vp,e)}}function Kp(t,e,n){t==="focusin"?(nu(),Pr=e,Hr=n,Pr.attachEvent("onpropertychange",pd)):t==="focusout"&&nu()}function Qp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ji(Hr)}function Jp(t,e){if(t==="click")return ji(e)}function Yp(t,e){if(t==="input"||t==="change")return ji(e)}function Xp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var at=typeof Object.is=="function"?Object.is:Xp;function Vr(t,e){if(at(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!To.call(e,s)||!at(t[s],e[s]))return!1}return!0}function ru(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function su(t,e){var n=ru(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ru(n)}}function gd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function md(){for(var t=window,e=Js();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Js(t.document)}return e}function Xa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Zp(t){var e=md(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gd(n.ownerDocument.documentElement,n)){if(r!==null&&Xa(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=su(n,i);var o=su(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eg=Ct&&"documentMode"in document&&11>=document.documentMode,Ln=null,Go=null,Or=null,Ko=!1;function iu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ko||Ln==null||Ln!==Js(r)||(r=Ln,"selectionStart"in r&&Xa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&Vr(Or,r)||(Or=r,r=ri(Go,"onSelect"),0<r.length&&(e=new Qa("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ln)))}function ks(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dn={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},no={},vd={};Ct&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Ci(t){if(no[t])return no[t];if(!Dn[t])return t;var e=Dn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vd)return no[t]=e[n];return t}var yd=Ci("animationend"),wd=Ci("animationiteration"),_d=Ci("animationstart"),kd=Ci("transitionend"),Sd=new Map,ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(t,e){Sd.set(t,e),_n(e,[t])}for(var ro=0;ro<ou.length;ro++){var so=ou[ro],tg=so.toLowerCase(),ng=so[0].toUpperCase()+so.slice(1);Yt(tg,"on"+ng)}Yt(yd,"onAnimationEnd");Yt(wd,"onAnimationIteration");Yt(_d,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(kd,"onTransitionEnd");Yn("onMouseEnter",["mouseout","mouseover"]);Yn("onMouseLeave",["mouseout","mouseover"]);Yn("onPointerEnter",["pointerout","pointerover"]);Yn("onPointerLeave",["pointerout","pointerover"]);_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_n("onBeforeInput",["compositionend","keypress","textInput","paste"]);_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rg=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function au(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tp(r,e,void 0,t),t.currentTarget=null}function xd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;au(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;au(s,a,u),i=l}}}if(Xs)throw t=Wo,Xs=!1,Wo=null,t}function J(t,e){var n=e[Zo];n===void 0&&(n=e[Zo]=new Set);var r=t+"__bubble";n.has(r)||(Ed(e,t,2,!1),n.add(r))}function io(t,e,n){var r=0;e&&(r|=4),Ed(n,t,r,e)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function Gr(t){if(!t[Ss]){t[Ss]=!0,Oc.forEach(function(n){n!=="selectionchange"&&(rg.has(n)||io(n,!1,t),io(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ss]||(e[Ss]=!0,io("selectionchange",!1,e))}}function Ed(t,e,n,r){switch(ad(e)){case 1:var s=vp;break;case 4:s=yp;break;default:s=Ga}n=s.bind(null,e,n,t),s=void 0,!zo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function oo(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=cn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Gc(function(){var u=i,d=Wa(n),f=[];e:{var m=Sd.get(t);if(m!==void 0){var w=Qa,_=t;switch(t){case"keypress":if(Ms(n)===0)break e;case"keydown":case"keyup":w=Ap;break;case"focusin":_="focus",w=Zi;break;case"focusout":_="blur",w=Zi;break;case"beforeblur":case"afterblur":w=Zi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Lp;break;case yd:case wd:case _d:w=Ep;break;case kd:w=Up;break;case"scroll":w=wp;break;case"wheel":w=Bp;break;case"copy":case"cut":case"paste":w=Cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Yl}var k=(e&4)!==0,S=!k&&t==="scroll",p=k?m!==null?m+"Capture":null:m;k=[];for(var h=u,g;h!==null;){g=h;var v=g.stateNode;if(g.tag===5&&v!==null&&(g=v,p!==null&&(v=Fr(h,p),v!=null&&k.push(Kr(h,v,g)))),S)break;h=h.return}0<k.length&&(m=new w(m,_,null,n,d),f.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Bo&&(_=n.relatedTarget||n.fromElement)&&(cn(_)||_[Nt]))break e;if((w||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,w?(_=n.relatedTarget||n.toElement,w=u,_=_?cn(_):null,_!==null&&(S=kn(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(w=null,_=u),w!==_)){if(k=Ql,v="onMouseLeave",p="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(k=Yl,v="onPointerLeave",p="onPointerEnter",h="pointer"),S=w==null?m:Un(w),g=_==null?m:Un(_),m=new k(v,h+"leave",w,n,d),m.target=S,m.relatedTarget=g,v=null,cn(d)===u&&(k=new k(p,h+"enter",_,n,d),k.target=g,k.relatedTarget=S,v=k),S=v,w&&_)t:{for(k=w,p=_,h=0,g=k;g;g=xn(g))h++;for(g=0,v=p;v;v=xn(v))g++;for(;0<h-g;)k=xn(k),h--;for(;0<g-h;)p=xn(p),g--;for(;h--;){if(k===p||p!==null&&k===p.alternate)break t;k=xn(k),p=xn(p)}k=null}else k=null;w!==null&&lu(f,m,w,k,!1),_!==null&&S!==null&&lu(f,S,_,k,!0)}}e:{if(m=u?Un(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var x=Gp;else if(eu(m))if(fd)x=Yp;else{x=Qp;var E=Kp}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=Jp);if(x&&(x=x(t,u))){hd(f,x,n,d);break e}E&&E(t,m,u),t==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&$o(m,"number",m.value)}switch(E=u?Un(u):window,t){case"focusin":(eu(E)||E.contentEditable==="true")&&(Ln=E,Go=u,Or=null);break;case"focusout":Or=Go=Ln=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,iu(f,n,d);break;case"selectionchange":if(eg)break;case"keydown":case"keyup":iu(f,n,d)}var T;if(Ya)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else $n?cd(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(ud&&n.locale!=="ko"&&($n||I!=="onCompositionStart"?I==="onCompositionEnd"&&$n&&(T=ld()):(Mt=d,Ka="value"in Mt?Mt.value:Mt.textContent,$n=!0)),E=ri(u,I),0<E.length&&(I=new Jl(I,t,null,n,d),f.push({event:I,listeners:E}),T?I.data=T:(T=dd(n),T!==null&&(I.data=T)))),(T=zp?Wp(t,n):qp(t,n))&&(u=ri(u,"onBeforeInput"),0<u.length&&(d=new Jl("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}xd(f,e)})}function Kr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ri(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fr(t,n),i!=null&&r.unshift(Kr(t,i,s)),i=Fr(t,e),i!=null&&r.push(Kr(t,i,s))),t=t.return}return r}function xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Fr(n,i),l!=null&&o.unshift(Kr(n,l,a))):s||(l=Fr(n,i),l!=null&&o.push(Kr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sg=/\r\n?/g,ig=/\u0000|\uFFFD/g;function uu(t){return(typeof t=="string"?t:""+t).replace(sg,`
`).replace(ig,"")}function xs(t,e,n){if(e=uu(e),uu(t)!==e&&n)throw Error(N(425))}function si(){}var Qo=null,Jo=null;function Yo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xo=typeof setTimeout=="function"?setTimeout:void 0,og=typeof clearTimeout=="function"?clearTimeout:void 0,cu=typeof Promise=="function"?Promise:void 0,ag=typeof queueMicrotask=="function"?queueMicrotask:typeof cu<"u"?function(t){return cu.resolve(null).then(t).catch(lg)}:Xo;function lg(t){setTimeout(function(){throw t})}function ao(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),qr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);qr(e)}function qt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function du(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ar=Math.random().toString(36).slice(2),ft="__reactFiber$"+ar,Qr="__reactProps$"+ar,Nt="__reactContainer$"+ar,Zo="__reactEvents$"+ar,ug="__reactListeners$"+ar,cg="__reactHandles$"+ar;function cn(t){var e=t[ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nt]||n[ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=du(t);t!==null;){if(n=t[ft])return n;t=du(t)}return e}t=n,n=t.parentNode}return null}function ls(t){return t=t[ft]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Un(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Ni(t){return t[Qr]||null}var ea=[],Mn=-1;function Xt(t){return{current:t}}function Y(t){0>Mn||(t.current=ea[Mn],ea[Mn]=null,Mn--)}function Q(t,e){Mn++,ea[Mn]=t.current,t.current=e}var Jt={},Se=Xt(Jt),Ae=Xt(!1),gn=Jt;function Xn(t,e){var n=t.type.contextTypes;if(!n)return Jt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(t){return t=t.childContextTypes,t!=null}function ii(){Y(Ae),Y(Se)}function hu(t,e,n){if(Se.current!==Jt)throw Error(N(168));Q(Se,e),Q(Ae,n)}function jd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,Kf(t)||"Unknown",s));return te({},n,r)}function oi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jt,gn=Se.current,Q(Se,t),Q(Ae,Ae.current),!0}function fu(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=jd(t,e,gn),r.__reactInternalMemoizedMergedChildContext=t,Y(Ae),Y(Se),Q(Se,t)):Y(Ae),Q(Ae,n)}var kt=null,Ti=!1,lo=!1;function Cd(t){kt===null?kt=[t]:kt.push(t)}function dg(t){Ti=!0,Cd(t)}function Zt(){if(!lo&&kt!==null){lo=!0;var t=0,e=H;try{var n=kt;for(H=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kt=null,Ti=!1}catch(s){throw kt!==null&&(kt=kt.slice(t+1)),Yc(qa,Zt),s}finally{H=e,lo=!1}}return null}var Bn=[],Fn=0,ai=null,li=0,He=[],Ve=0,mn=null,St=1,xt="";function on(t,e){Bn[Fn++]=li,Bn[Fn++]=ai,ai=t,li=e}function Nd(t,e,n){He[Ve++]=St,He[Ve++]=xt,He[Ve++]=mn,mn=t;var r=St;t=xt;var s=32-it(r)-1;r&=~(1<<s),n+=1;var i=32-it(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,St=1<<32-it(e)+s|n<<s|r,xt=i+t}else St=1<<i|n<<s|r,xt=t}function Za(t){t.return!==null&&(on(t,1),Nd(t,1,0))}function el(t){for(;t===ai;)ai=Bn[--Fn],Bn[Fn]=null,li=Bn[--Fn],Bn[Fn]=null;for(;t===mn;)mn=He[--Ve],He[Ve]=null,xt=He[--Ve],He[Ve]=null,St=He[--Ve],He[Ve]=null}var Fe=null,Me=null,X=!1,st=null;function Td(t,e){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,Me=qt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,Me=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mn!==null?{id:St,overflow:xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fe=t,Me=null,!0):!1;default:return!1}}function ta(t){return(t.mode&1)!==0&&(t.flags&128)===0}function na(t){if(X){var e=Me;if(e){var n=e;if(!pu(t,e)){if(ta(t))throw Error(N(418));e=qt(n.nextSibling);var r=Fe;e&&pu(t,e)?Td(r,n):(t.flags=t.flags&-4097|2,X=!1,Fe=t)}}else{if(ta(t))throw Error(N(418));t.flags=t.flags&-4097|2,X=!1,Fe=t}}}function gu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function Es(t){if(t!==Fe)return!1;if(!X)return gu(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yo(t.type,t.memoizedProps)),e&&(e=Me)){if(ta(t))throw bd(),Error(N(418));for(;e;)Td(t,e),e=qt(e.nextSibling)}if(gu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Me=qt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Me=null}}else Me=Fe?qt(t.stateNode.nextSibling):null;return!0}function bd(){for(var t=Me;t;)t=qt(t.nextSibling)}function Zn(){Me=Fe=null,X=!1}function tl(t){st===null?st=[t]:st.push(t)}var hg=Pt.ReactCurrentBatchConfig;function vr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function js(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mu(t){var e=t._init;return e(t._payload)}function Pd(t){function e(p,h){if(t){var g=p.deletions;g===null?(p.deletions=[h],p.flags|=16):g.push(h)}}function n(p,h){if(!t)return null;for(;h!==null;)e(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=Kt(p,h),p.index=0,p.sibling=null,p}function i(p,h,g){return p.index=g,t?(g=p.alternate,g!==null?(g=g.index,g<h?(p.flags|=2,h):g):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,h,g,v){return h===null||h.tag!==6?(h=mo(g,p.mode,v),h.return=p,h):(h=s(h,g),h.return=p,h)}function l(p,h,g,v){var x=g.type;return x===In?d(p,h,g.props.children,v,g.key):h!==null&&(h.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===It&&mu(x)===h.type)?(v=s(h,g.props),v.ref=vr(p,h,g),v.return=p,v):(v=Vs(g.type,g.key,g.props,null,p.mode,v),v.ref=vr(p,h,g),v.return=p,v)}function u(p,h,g,v){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=vo(g,p.mode,v),h.return=p,h):(h=s(h,g.children||[]),h.return=p,h)}function d(p,h,g,v,x){return h===null||h.tag!==7?(h=pn(g,p.mode,v,x),h.return=p,h):(h=s(h,g),h.return=p,h)}function f(p,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=mo(""+h,p.mode,g),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ps:return g=Vs(h.type,h.key,h.props,null,p.mode,g),g.ref=vr(p,null,h),g.return=p,g;case An:return h=vo(h,p.mode,g),h.return=p,h;case It:var v=h._init;return f(p,v(h._payload),g)}if(xr(h)||hr(h))return h=pn(h,p.mode,g,null),h.return=p,h;js(p,h)}return null}function m(p,h,g,v){var x=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:a(p,h,""+g,v);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ps:return g.key===x?l(p,h,g,v):null;case An:return g.key===x?u(p,h,g,v):null;case It:return x=g._init,m(p,h,x(g._payload),v)}if(xr(g)||hr(g))return x!==null?null:d(p,h,g,v,null);js(p,g)}return null}function w(p,h,g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(g)||null,a(h,p,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ps:return p=p.get(v.key===null?g:v.key)||null,l(h,p,v,x);case An:return p=p.get(v.key===null?g:v.key)||null,u(h,p,v,x);case It:var E=v._init;return w(p,h,g,E(v._payload),x)}if(xr(v)||hr(v))return p=p.get(g)||null,d(h,p,v,x,null);js(h,v)}return null}function _(p,h,g,v){for(var x=null,E=null,T=h,I=h=0,V=null;T!==null&&I<g.length;I++){T.index>I?(V=T,T=null):V=T.sibling;var j=m(p,T,g[I],v);if(j===null){T===null&&(T=V);break}t&&T&&j.alternate===null&&e(p,T),h=i(j,h,I),E===null?x=j:E.sibling=j,E=j,T=V}if(I===g.length)return n(p,T),X&&on(p,I),x;if(T===null){for(;I<g.length;I++)T=f(p,g[I],v),T!==null&&(h=i(T,h,I),E===null?x=T:E.sibling=T,E=T);return X&&on(p,I),x}for(T=r(p,T);I<g.length;I++)V=w(T,p,I,g[I],v),V!==null&&(t&&V.alternate!==null&&T.delete(V.key===null?I:V.key),h=i(V,h,I),E===null?x=V:E.sibling=V,E=V);return t&&T.forEach(function(W){return e(p,W)}),X&&on(p,I),x}function k(p,h,g,v){var x=hr(g);if(typeof x!="function")throw Error(N(150));if(g=x.call(g),g==null)throw Error(N(151));for(var E=x=null,T=h,I=h=0,V=null,j=g.next();T!==null&&!j.done;I++,j=g.next()){T.index>I?(V=T,T=null):V=T.sibling;var W=m(p,T,j.value,v);if(W===null){T===null&&(T=V);break}t&&T&&W.alternate===null&&e(p,T),h=i(W,h,I),E===null?x=W:E.sibling=W,E=W,T=V}if(j.done)return n(p,T),X&&on(p,I),x;if(T===null){for(;!j.done;I++,j=g.next())j=f(p,j.value,v),j!==null&&(h=i(j,h,I),E===null?x=j:E.sibling=j,E=j);return X&&on(p,I),x}for(T=r(p,T);!j.done;I++,j=g.next())j=w(T,p,I,j.value,v),j!==null&&(t&&j.alternate!==null&&T.delete(j.key===null?I:j.key),h=i(j,h,I),E===null?x=j:E.sibling=j,E=j);return t&&T.forEach(function(Le){return e(p,Le)}),X&&on(p,I),x}function S(p,h,g,v){if(typeof g=="object"&&g!==null&&g.type===In&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ps:e:{for(var x=g.key,E=h;E!==null;){if(E.key===x){if(x=g.type,x===In){if(E.tag===7){n(p,E.sibling),h=s(E,g.props.children),h.return=p,p=h;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===It&&mu(x)===E.type){n(p,E.sibling),h=s(E,g.props),h.ref=vr(p,E,g),h.return=p,p=h;break e}n(p,E);break}else e(p,E);E=E.sibling}g.type===In?(h=pn(g.props.children,p.mode,v,g.key),h.return=p,p=h):(v=Vs(g.type,g.key,g.props,null,p.mode,v),v.ref=vr(p,h,g),v.return=p,p=v)}return o(p);case An:e:{for(E=g.key;h!==null;){if(h.key===E)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(p,h.sibling),h=s(h,g.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else e(p,h);h=h.sibling}h=vo(g,p.mode,v),h.return=p,p=h}return o(p);case It:return E=g._init,S(p,h,E(g._payload),v)}if(xr(g))return _(p,h,g,v);if(hr(g))return k(p,h,g,v);js(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(p,h.sibling),h=s(h,g),h.return=p,p=h):(n(p,h),h=mo(g,p.mode,v),h.return=p,p=h),o(p)):n(p,h)}return S}var er=Pd(!0),Od=Pd(!1),ui=Xt(null),ci=null,zn=null,nl=null;function rl(){nl=zn=ci=null}function sl(t){var e=ui.current;Y(ui),t._currentValue=e}function ra(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qn(t,e){ci=t,nl=zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function Je(t){var e=t._currentValue;if(nl!==t)if(t={context:t,memoizedValue:e,next:null},zn===null){if(ci===null)throw Error(N(308));zn=t,ci.dependencies={lanes:0,firstContext:t}}else zn=zn.next=t;return e}var dn=null;function il(t){dn===null?dn=[t]:dn.push(t)}function Rd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,il(e)):(n.next=s.next,s.next=n),e.interleaved=n,Tt(t,r)}function Tt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $t=!1;function ol(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ad(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ht(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Tt(t,n)}return s=r.interleaved,s===null?(e.next=e,il(r)):(e.next=s.next,s.next=e),r.interleaved=e,Tt(t,n)}function Bs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ha(t,n)}}function vu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function di(t,e,n,r){var s=t.updateQueue;$t=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var m=a.lane,w=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,k=a;switch(m=e,w=n,k.tag){case 1:if(_=k.payload,typeof _=="function"){f=_.call(w,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=k.payload,m=typeof _=="function"?_.call(w,f,m):_,m==null)break e;f=te({},f,m);break e;case 2:$t=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else w={eventTime:w,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=w,l=f):d=d.next=w,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);yn|=o,t.lanes=o,t.memoizedState=f}}function yu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var us={},gt=Xt(us),Jr=Xt(us),Yr=Xt(us);function hn(t){if(t===us)throw Error(N(174));return t}function al(t,e){switch(Q(Yr,e),Q(Jr,t),Q(gt,us),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Do(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Do(e,t)}Y(gt),Q(gt,e)}function tr(){Y(gt),Y(Jr),Y(Yr)}function Id(t){hn(Yr.current);var e=hn(gt.current),n=Do(e,t.type);e!==n&&(Q(Jr,t),Q(gt,n))}function ll(t){Jr.current===t&&(Y(gt),Y(Jr))}var Z=Xt(0);function hi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uo=[];function ul(){for(var t=0;t<uo.length;t++)uo[t]._workInProgressVersionPrimary=null;uo.length=0}var Fs=Pt.ReactCurrentDispatcher,co=Pt.ReactCurrentBatchConfig,vn=0,ee=null,ce=null,fe=null,fi=!1,Rr=!1,Xr=0,fg=0;function ye(){throw Error(N(321))}function cl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!at(t[n],e[n]))return!1;return!0}function dl(t,e,n,r,s,i){if(vn=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fs.current=t===null||t.memoizedState===null?vg:yg,t=n(r,s),Rr){i=0;do{if(Rr=!1,Xr=0,25<=i)throw Error(N(301));i+=1,fe=ce=null,e.updateQueue=null,Fs.current=wg,t=n(r,s)}while(Rr)}if(Fs.current=pi,e=ce!==null&&ce.next!==null,vn=0,fe=ce=ee=null,fi=!1,e)throw Error(N(300));return t}function hl(){var t=Xr!==0;return Xr=0,t}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?ee.memoizedState=fe=t:fe=fe.next=t,fe}function Ye(){if(ce===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=ce.next;var e=fe===null?ee.memoizedState:fe.next;if(e!==null)fe=e,ce=t;else{if(t===null)throw Error(N(310));ce=t,t={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},fe===null?ee.memoizedState=fe=t:fe=fe.next=t}return fe}function Zr(t,e){return typeof e=="function"?e(t):e}function ho(t){var e=Ye(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((vn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ee.lanes|=d,yn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,at(r,e.memoizedState)||(Re=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ee.lanes|=i,yn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fo(t){var e=Ye(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);at(i,e.memoizedState)||(Re=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function $d(){}function Ld(t,e){var n=ee,r=Ye(),s=e(),i=!at(r.memoizedState,s);if(i&&(r.memoizedState=s,Re=!0),r=r.queue,fl(Md.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||fe!==null&&fe.memoizedState.tag&1){if(n.flags|=2048,es(9,Ud.bind(null,n,r,s,e),void 0,null),pe===null)throw Error(N(349));vn&30||Dd(n,e,s)}return s}function Dd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ud(t,e,n,r){e.value=n,e.getSnapshot=r,Bd(e)&&Fd(t)}function Md(t,e,n){return n(function(){Bd(e)&&Fd(t)})}function Bd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!at(t,n)}catch{return!0}}function Fd(t){var e=Tt(t,1);e!==null&&ot(e,t,1,-1)}function wu(t){var e=dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:t},e.queue=t,t=t.dispatch=mg.bind(null,ee,t),[e.memoizedState,t]}function es(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zd(){return Ye().memoizedState}function zs(t,e,n,r){var s=dt();ee.flags|=t,s.memoizedState=es(1|e,n,void 0,r===void 0?null:r)}function bi(t,e,n,r){var s=Ye();r=r===void 0?null:r;var i=void 0;if(ce!==null){var o=ce.memoizedState;if(i=o.destroy,r!==null&&cl(r,o.deps)){s.memoizedState=es(e,n,i,r);return}}ee.flags|=t,s.memoizedState=es(1|e,n,i,r)}function _u(t,e){return zs(8390656,8,t,e)}function fl(t,e){return bi(2048,8,t,e)}function Wd(t,e){return bi(4,2,t,e)}function qd(t,e){return bi(4,4,t,e)}function Hd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vd(t,e,n){return n=n!=null?n.concat([t]):null,bi(4,4,Hd.bind(null,e,t),n)}function pl(){}function Gd(t,e){var n=Ye();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Kd(t,e){var n=Ye();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qd(t,e,n){return vn&21?(at(n,e)||(n=ed(),ee.lanes|=n,yn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=n)}function pg(t,e){var n=H;H=n!==0&&4>n?n:4,t(!0);var r=co.transition;co.transition={};try{t(!1),e()}finally{H=n,co.transition=r}}function Jd(){return Ye().memoizedState}function gg(t,e,n){var r=Gt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yd(t))Xd(e,n);else if(n=Rd(t,e,n,r),n!==null){var s=Ne();ot(n,t,r,s),Zd(n,e,r)}}function mg(t,e,n){var r=Gt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yd(t))Xd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,at(a,o)){var l=e.interleaved;l===null?(s.next=s,il(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Rd(t,e,s,r),n!==null&&(s=Ne(),ot(n,t,r,s),Zd(n,e,r))}}function Yd(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function Xd(t,e){Rr=fi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Zd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ha(t,n)}}var pi={readContext:Je,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},vg={readContext:Je,useCallback:function(t,e){return dt().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:_u,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zs(4194308,4,Hd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zs(4194308,4,t,e)},useInsertionEffect:function(t,e){return zs(4,2,t,e)},useMemo:function(t,e){var n=dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gg.bind(null,ee,t),[r.memoizedState,t]},useRef:function(t){var e=dt();return t={current:t},e.memoizedState=t},useState:wu,useDebugValue:pl,useDeferredValue:function(t){return dt().memoizedState=t},useTransition:function(){var t=wu(!1),e=t[0];return t=pg.bind(null,t[1]),dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ee,s=dt();if(X){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),pe===null)throw Error(N(349));vn&30||Dd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,_u(Md.bind(null,r,i,t),[t]),r.flags|=2048,es(9,Ud.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dt(),e=pe.identifierPrefix;if(X){var n=xt,r=St;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yg={readContext:Je,useCallback:Gd,useContext:Je,useEffect:fl,useImperativeHandle:Vd,useInsertionEffect:Wd,useLayoutEffect:qd,useMemo:Kd,useReducer:ho,useRef:zd,useState:function(){return ho(Zr)},useDebugValue:pl,useDeferredValue:function(t){var e=Ye();return Qd(e,ce.memoizedState,t)},useTransition:function(){var t=ho(Zr)[0],e=Ye().memoizedState;return[t,e]},useMutableSource:$d,useSyncExternalStore:Ld,useId:Jd,unstable_isNewReconciler:!1},wg={readContext:Je,useCallback:Gd,useContext:Je,useEffect:fl,useImperativeHandle:Vd,useInsertionEffect:Wd,useLayoutEffect:qd,useMemo:Kd,useReducer:fo,useRef:zd,useState:function(){return fo(Zr)},useDebugValue:pl,useDeferredValue:function(t){var e=Ye();return ce===null?e.memoizedState=t:Qd(e,ce.memoizedState,t)},useTransition:function(){var t=fo(Zr)[0],e=Ye().memoizedState;return[t,e]},useMutableSource:$d,useSyncExternalStore:Ld,useId:Jd,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pi={isMounted:function(t){return(t=t._reactInternals)?kn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ne(),s=Gt(t),i=jt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ht(t,i,s),e!==null&&(ot(e,t,s,r),Bs(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ne(),s=Gt(t),i=jt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ht(t,i,s),e!==null&&(ot(e,t,s,r),Bs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ne(),r=Gt(t),s=jt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ht(t,s,r),e!==null&&(ot(e,t,r,n),Bs(e,t,r))}};function ku(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vr(n,r)||!Vr(s,i):!0}function eh(t,e,n){var r=!1,s=Jt,i=e.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Ie(e)?gn:Se.current,r=e.contextTypes,i=(r=r!=null)?Xn(t,s):Jt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Su(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pi.enqueueReplaceState(e,e.state,null)}function ia(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ol(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Ie(e)?gn:Se.current,s.context=Xn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(sa(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Pi.enqueueReplaceState(s,s.state,null),di(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function nr(t,e){try{var n="",r=e;do n+=Gf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function po(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function oa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _g=typeof WeakMap=="function"?WeakMap:Map;function th(t,e,n){n=jt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){mi||(mi=!0,ma=r),oa(t,e)},n}function nh(t,e,n){n=jt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){oa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){oa(t,e),typeof r!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _g;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Ig.bind(null,t,e,n),e.then(t,t))}function Eu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ju(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jt(-1,1),e.tag=2,Ht(n,e,1))),n.lanes|=1),t)}var kg=Pt.ReactCurrentOwner,Re=!1;function Ce(t,e,n,r){e.child=t===null?Od(e,null,n,r):er(e,t.child,n,r)}function Cu(t,e,n,r,s){n=n.render;var i=e.ref;return Qn(e,s),r=dl(t,e,n,r,i,s),n=hl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bt(t,e,s)):(X&&n&&Za(e),e.flags|=1,Ce(t,e,r,s),e.child)}function Nu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Sl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,rh(t,e,i,r,s)):(t=Vs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Vr,n(o,r)&&t.ref===e.ref)return bt(t,e,s)}return e.flags|=1,t=Kt(i,r),t.ref=e.ref,t.return=e,e.child=t}function rh(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Vr(i,r)&&t.ref===e.ref)if(Re=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,bt(t,e,s)}return aa(t,e,n,r,s)}function sh(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(qn,Ue),Ue|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(qn,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(qn,Ue),Ue|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Q(qn,Ue),Ue|=r;return Ce(t,e,s,n),e.child}function ih(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function aa(t,e,n,r,s){var i=Ie(n)?gn:Se.current;return i=Xn(e,i),Qn(e,s),n=dl(t,e,n,r,i,s),r=hl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bt(t,e,s)):(X&&r&&Za(e),e.flags|=1,Ce(t,e,n,s),e.child)}function Tu(t,e,n,r,s){if(Ie(n)){var i=!0;oi(e)}else i=!1;if(Qn(e,s),e.stateNode===null)Ws(t,e),eh(e,n,r),ia(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Ie(n)?gn:Se.current,u=Xn(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Su(e,o,r,u),$t=!1;var m=e.memoizedState;o.state=m,di(e,r,o,s),l=e.memoizedState,a!==r||m!==l||Ae.current||$t?(typeof d=="function"&&(sa(e,n,d,r),l=e.memoizedState),(a=$t||ku(e,n,a,r,m,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ad(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:tt(e.type,a),o.props=u,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Je(l):(l=Ie(n)?gn:Se.current,l=Xn(e,l));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&Su(e,o,r,l),$t=!1,m=e.memoizedState,o.state=m,di(e,r,o,s);var _=e.memoizedState;a!==f||m!==_||Ae.current||$t?(typeof w=="function"&&(sa(e,n,w,r),_=e.memoizedState),(u=$t||ku(e,n,u,r,m,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return la(t,e,n,r,i,s)}function la(t,e,n,r,s,i){ih(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&fu(e,n,!1),bt(t,e,i);r=e.stateNode,kg.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=er(e,t.child,null,i),e.child=er(e,null,a,i)):Ce(t,e,a,i),e.memoizedState=r.state,s&&fu(e,n,!0),e.child}function oh(t){var e=t.stateNode;e.pendingContext?hu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hu(t,e.context,!1),al(t,e.containerInfo)}function bu(t,e,n,r,s){return Zn(),tl(s),e.flags|=256,Ce(t,e,n,r),e.child}var ua={dehydrated:null,treeContext:null,retryLane:0};function ca(t){return{baseLanes:t,cachePool:null,transitions:null}}function ah(t,e,n){var r=e.pendingProps,s=Z.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Q(Z,s&1),t===null)return na(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ai(o,r,0,null),t=pn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ca(n),e.memoizedState=ua,t):gl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Sg(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Kt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kt(a,i):(i=pn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ca(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ua,r}return i=t.child,t=i.sibling,r=Kt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gl(t,e){return e=Ai({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cs(t,e,n,r){return r!==null&&tl(r),er(e,t.child,null,n),t=gl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Sg(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=po(Error(N(422))),Cs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ai({mode:"visible",children:r.children},s,0,null),i=pn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&er(e,t.child,null,o),e.child.memoizedState=ca(o),e.memoizedState=ua,i);if(!(e.mode&1))return Cs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=po(i,r,void 0),Cs(t,e,o,r)}if(a=(o&t.childLanes)!==0,Re||a){if(r=pe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tt(t,s),ot(r,t,s,-1))}return kl(),r=po(Error(N(421))),Cs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=$g.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Me=qt(s.nextSibling),Fe=e,X=!0,st=null,t!==null&&(He[Ve++]=St,He[Ve++]=xt,He[Ve++]=mn,St=t.id,xt=t.overflow,mn=e),e=gl(e,r.children),e.flags|=4096,e)}function Pu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ra(t.return,e,n)}function go(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function lh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ce(t,e,r.children,n),r=Z.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pu(t,n,e);else if(t.tag===19)Pu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Q(Z,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),go(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}go(e,!0,n,null,i);break;case"together":go(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ws(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Kt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xg(t,e,n){switch(e.tag){case 3:oh(e),Zn();break;case 5:Id(e);break;case 1:Ie(e.type)&&oi(e);break;case 4:al(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Q(ui,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(Z,Z.current&1),e.flags|=128,null):n&e.child.childLanes?ah(t,e,n):(Q(Z,Z.current&1),t=bt(t,e,n),t!==null?t.sibling:null);Q(Z,Z.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(Z,Z.current),r)break;return null;case 22:case 23:return e.lanes=0,sh(t,e,n)}return bt(t,e,n)}var uh,da,ch,dh;uh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};da=function(){};ch=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,hn(gt.current);var i=null;switch(n){case"input":s=Ao(t,s),r=Ao(t,r),i=[];break;case"select":s=te({},s,{value:void 0}),r=te({},r,{value:void 0}),i=[];break;case"textarea":s=Lo(t,s),r=Lo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=si)}Uo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&J("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};dh=function(t,e,n,r){n!==r&&(e.flags|=4)};function yr(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function we(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Eg(t,e,n){var r=e.pendingProps;switch(el(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(e),null;case 1:return Ie(e.type)&&ii(),we(e),null;case 3:return r=e.stateNode,tr(),Y(Ae),Y(Se),ul(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Es(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(wa(st),st=null))),da(t,e),we(e),null;case 5:ll(e);var s=hn(Yr.current);if(n=e.type,t!==null&&e.stateNode!=null)ch(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return we(e),null}if(t=hn(gt.current),Es(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ft]=e,r[Qr]=i,t=(e.mode&1)!==0,n){case"dialog":J("cancel",r),J("close",r);break;case"iframe":case"object":case"embed":J("load",r);break;case"video":case"audio":for(s=0;s<jr.length;s++)J(jr[s],r);break;case"source":J("error",r);break;case"img":case"image":case"link":J("error",r),J("load",r);break;case"details":J("toggle",r);break;case"input":Ml(r,i),J("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},J("invalid",r);break;case"textarea":Fl(r,i),J("invalid",r)}Uo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&xs(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xs(r.textContent,a,t),s=["children",""+a]):Mr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&J("scroll",r)}switch(n){case"input":gs(r),Bl(r,i,!0);break;case"textarea":gs(r),zl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=si)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ft]=e,t[Qr]=r,uh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Mo(n,r),n){case"dialog":J("cancel",t),J("close",t),s=r;break;case"iframe":case"object":case"embed":J("load",t),s=r;break;case"video":case"audio":for(s=0;s<jr.length;s++)J(jr[s],t);s=r;break;case"source":J("error",t),s=r;break;case"img":case"image":case"link":J("error",t),J("load",t),s=r;break;case"details":J("toggle",t),s=r;break;case"input":Ml(t,r),s=Ao(t,r),J("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=te({},r,{value:void 0}),J("invalid",t);break;case"textarea":Fl(t,r),s=Lo(t,r),J("invalid",t);break;default:s=r}Uo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?zc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bc(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Br(t,l):typeof l=="number"&&Br(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&J("scroll",t):l!=null&&Ma(t,i,l,o))}switch(n){case"input":gs(t),Bl(t,r,!1);break;case"textarea":gs(t),zl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Hn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Hn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=si)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return we(e),null;case 6:if(t&&e.stateNode!=null)dh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=hn(Yr.current),hn(gt.current),Es(e)){if(r=e.stateNode,n=e.memoizedProps,r[ft]=e,(i=r.nodeValue!==n)&&(t=Fe,t!==null))switch(t.tag){case 3:xs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=e,e.stateNode=r}return we(e),null;case 13:if(Y(Z),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&Me!==null&&e.mode&1&&!(e.flags&128))bd(),Zn(),e.flags|=98560,i=!1;else if(i=Es(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ft]=e}else Zn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),i=!1}else st!==null&&(wa(st),st=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?de===0&&(de=3):kl())),e.updateQueue!==null&&(e.flags|=4),we(e),null);case 4:return tr(),da(t,e),t===null&&Gr(e.stateNode.containerInfo),we(e),null;case 10:return sl(e.type._context),we(e),null;case 17:return Ie(e.type)&&ii(),we(e),null;case 19:if(Y(Z),i=e.memoizedState,i===null)return we(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)yr(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hi(t),o!==null){for(e.flags|=128,yr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(Z,Z.current&1|2),e.child}t=t.sibling}i.tail!==null&&se()>rr&&(e.flags|=128,r=!0,yr(i,!1),e.lanes=4194304)}else{if(!r)if(t=hi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!X)return we(e),null}else 2*se()-i.renderingStartTime>rr&&n!==1073741824&&(e.flags|=128,r=!0,yr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=se(),e.sibling=null,n=Z.current,Q(Z,r?n&1|2:n&1),e):(we(e),null);case 22:case 23:return _l(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ue&1073741824&&(we(e),e.subtreeFlags&6&&(e.flags|=8192)):we(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function jg(t,e){switch(el(e),e.tag){case 1:return Ie(e.type)&&ii(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tr(),Y(Ae),Y(Se),ul(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ll(e),null;case 13:if(Y(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Zn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(Z),null;case 4:return tr(),null;case 10:return sl(e.type._context),null;case 22:case 23:return _l(),null;case 24:return null;default:return null}}var Ns=!1,_e=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,R=null;function Wn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(t,e,r)}else n.current=null}function ha(t,e,n){try{n()}catch(r){re(t,e,r)}}var Ou=!1;function Ng(t,e){if(Qo=ti,t=md(),Xa(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var w;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)m=f,f=w;for(;;){if(f===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(l=o),(w=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jo={focusedElem:t,selectionRange:n},ti=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var k=_.memoizedProps,S=_.memoizedState,p=e.stateNode,h=p.getSnapshotBeforeUpdate(e.elementType===e.type?k:tt(e.type,k),S);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(v){re(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return _=Ou,Ou=!1,_}function Ar(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ha(e,n,i)}s=s.next}while(s!==r)}}function Oi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fa(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hh(t){var e=t.alternate;e!==null&&(t.alternate=null,hh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ft],delete e[Qr],delete e[Zo],delete e[ug],delete e[cg])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fh(t){return t.tag===5||t.tag===3||t.tag===4}function Ru(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=si));else if(r!==4&&(t=t.child,t!==null))for(pa(t,e,n),t=t.sibling;t!==null;)pa(t,e,n),t=t.sibling}function ga(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ga(t,e,n),t=t.sibling;t!==null;)ga(t,e,n),t=t.sibling}var ge=null,nt=!1;function Ot(t,e,n){for(n=n.child;n!==null;)ph(t,e,n),n=n.sibling}function ph(t,e,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(xi,n)}catch{}switch(n.tag){case 5:_e||Wn(n,e);case 6:var r=ge,s=nt;ge=null,Ot(t,e,n),ge=r,nt=s,ge!==null&&(nt?(t=ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(nt?(t=ge,n=n.stateNode,t.nodeType===8?ao(t.parentNode,n):t.nodeType===1&&ao(t,n),qr(t)):ao(ge,n.stateNode));break;case 4:r=ge,s=nt,ge=n.stateNode.containerInfo,nt=!0,Ot(t,e,n),ge=r,nt=s;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ha(n,e,o),s=s.next}while(s!==r)}Ot(t,e,n);break;case 1:if(!_e&&(Wn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){re(n,e,a)}Ot(t,e,n);break;case 21:Ot(t,e,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Ot(t,e,n),_e=r):Ot(t,e,n);break;default:Ot(t,e,n)}}function Au(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Cg),e.forEach(function(r){var s=Lg.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ge=a.stateNode,nt=!1;break e;case 3:ge=a.stateNode.containerInfo,nt=!0;break e;case 4:ge=a.stateNode.containerInfo,nt=!0;break e}a=a.return}if(ge===null)throw Error(N(160));ph(i,o,s),ge=null,nt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){re(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gh(e,t),e=e.sibling}function gh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),ct(t),r&4){try{Ar(3,t,t.return),Oi(3,t)}catch(k){re(t,t.return,k)}try{Ar(5,t,t.return)}catch(k){re(t,t.return,k)}}break;case 1:Ze(e,t),ct(t),r&512&&n!==null&&Wn(n,n.return);break;case 5:if(Ze(e,t),ct(t),r&512&&n!==null&&Wn(n,n.return),t.flags&32){var s=t.stateNode;try{Br(s,"")}catch(k){re(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Dc(s,i),Mo(a,o);var u=Mo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?zc(s,f):d==="dangerouslySetInnerHTML"?Bc(s,f):d==="children"?Br(s,f):Ma(s,d,f,u)}switch(a){case"input":Io(s,i);break;case"textarea":Uc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Hn(s,!!i.multiple,w,!1):m!==!!i.multiple&&(i.defaultValue!=null?Hn(s,!!i.multiple,i.defaultValue,!0):Hn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qr]=i}catch(k){re(t,t.return,k)}}break;case 6:if(Ze(e,t),ct(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){re(t,t.return,k)}}break;case 3:if(Ze(e,t),ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qr(e.containerInfo)}catch(k){re(t,t.return,k)}break;case 4:Ze(e,t),ct(t);break;case 13:Ze(e,t),ct(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yl=se())),r&4&&Au(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(_e=(u=_e)||d,Ze(e,t),_e=u):Ze(e,t),ct(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(R=t,d=t.child;d!==null;){for(f=R=d;R!==null;){switch(m=R,w=m.child,m.tag){case 0:case 11:case 14:case 15:Ar(4,m,m.return);break;case 1:Wn(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(k){re(r,n,k)}}break;case 5:Wn(m,m.return);break;case 22:if(m.memoizedState!==null){$u(f);continue}}w!==null?(w.return=m,R=w):$u(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fc("display",o))}catch(k){re(t,t.return,k)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(k){re(t,t.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ze(e,t),ct(t),r&4&&Au(t);break;case 21:break;default:Ze(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fh(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Br(s,""),r.flags&=-33);var i=Ru(t);ga(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ru(t);pa(t,a,o);break;default:throw Error(N(161))}}catch(l){re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tg(t,e,n){R=t,mh(t)}function mh(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ns;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||_e;a=Ns;var u=_e;if(Ns=o,(_e=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?Lu(s):l!==null?(l.return=o,R=l):Lu(s);for(;i!==null;)R=i,mh(i),i=i.sibling;R=s,Ns=a,_e=u}Iu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Iu(t)}}function Iu(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_e||Oi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!_e)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&yu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&qr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}_e||e.flags&512&&fa(e)}catch(m){re(e,e.return,m)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function $u(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function Lu(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oi(4,e)}catch(l){re(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){re(e,s,l)}}var i=e.return;try{fa(e)}catch(l){re(e,i,l)}break;case 5:var o=e.return;try{fa(e)}catch(l){re(e,o,l)}}}catch(l){re(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var bg=Math.ceil,gi=Pt.ReactCurrentDispatcher,ml=Pt.ReactCurrentOwner,Ke=Pt.ReactCurrentBatchConfig,q=0,pe=null,ae=null,me=0,Ue=0,qn=Xt(0),de=0,ts=null,yn=0,Ri=0,vl=0,Ir=null,Pe=null,yl=0,rr=1/0,wt=null,mi=!1,ma=null,Vt=null,Ts=!1,Bt=null,vi=0,$r=0,va=null,qs=-1,Hs=0;function Ne(){return q&6?se():qs!==-1?qs:qs=se()}function Gt(t){return t.mode&1?q&2&&me!==0?me&-me:hg.transition!==null?(Hs===0&&(Hs=ed()),Hs):(t=H,t!==0||(t=window.event,t=t===void 0?16:ad(t.type)),t):1}function ot(t,e,n,r){if(50<$r)throw $r=0,va=null,Error(N(185));os(t,n,r),(!(q&2)||t!==pe)&&(t===pe&&(!(q&2)&&(Ri|=n),de===4&&Dt(t,me)),$e(t,r),n===1&&q===0&&!(e.mode&1)&&(rr=se()+500,Ti&&Zt()))}function $e(t,e){var n=t.callbackNode;hp(t,e);var r=ei(t,t===pe?me:0);if(r===0)n!==null&&Hl(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hl(n),e===1)t.tag===0?dg(Du.bind(null,t)):Cd(Du.bind(null,t)),ag(function(){!(q&6)&&Zt()}),n=null;else{switch(td(r)){case 1:n=qa;break;case 4:n=Xc;break;case 16:n=Zs;break;case 536870912:n=Zc;break;default:n=Zs}n=Eh(n,vh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vh(t,e){if(qs=-1,Hs=0,q&6)throw Error(N(327));var n=t.callbackNode;if(Jn()&&t.callbackNode!==n)return null;var r=ei(t,t===pe?me:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=yi(t,r);else{e=r;var s=q;q|=2;var i=wh();(pe!==t||me!==e)&&(wt=null,rr=se()+500,fn(t,e));do try{Rg();break}catch(a){yh(t,a)}while(!0);rl(),gi.current=i,q=s,ae!==null?e=0:(pe=null,me=0,e=de)}if(e!==0){if(e===2&&(s=qo(t),s!==0&&(r=s,e=ya(t,s))),e===1)throw n=ts,fn(t,0),Dt(t,r),$e(t,se()),n;if(e===6)Dt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Pg(s)&&(e=yi(t,r),e===2&&(i=qo(t),i!==0&&(r=i,e=ya(t,i))),e===1))throw n=ts,fn(t,0),Dt(t,r),$e(t,se()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:an(t,Pe,wt);break;case 3:if(Dt(t,r),(r&130023424)===r&&(e=yl+500-se(),10<e)){if(ei(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ne(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Xo(an.bind(null,t,Pe,wt),e);break}an(t,Pe,wt);break;case 4:if(Dt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bg(r/1960))-r,10<r){t.timeoutHandle=Xo(an.bind(null,t,Pe,wt),r);break}an(t,Pe,wt);break;case 5:an(t,Pe,wt);break;default:throw Error(N(329))}}}return $e(t,se()),t.callbackNode===n?vh.bind(null,t):null}function ya(t,e){var n=Ir;return t.current.memoizedState.isDehydrated&&(fn(t,e).flags|=256),t=yi(t,e),t!==2&&(e=Pe,Pe=n,e!==null&&wa(e)),t}function wa(t){Pe===null?Pe=t:Pe.push.apply(Pe,t)}function Pg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dt(t,e){for(e&=~vl,e&=~Ri,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-it(e),r=1<<n;t[n]=-1,e&=~r}}function Du(t){if(q&6)throw Error(N(327));Jn();var e=ei(t,0);if(!(e&1))return $e(t,se()),null;var n=yi(t,e);if(t.tag!==0&&n===2){var r=qo(t);r!==0&&(e=r,n=ya(t,r))}if(n===1)throw n=ts,fn(t,0),Dt(t,e),$e(t,se()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,an(t,Pe,wt),$e(t,se()),null}function wl(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(rr=se()+500,Ti&&Zt())}}function wn(t){Bt!==null&&Bt.tag===0&&!(q&6)&&Jn();var e=q;q|=1;var n=Ke.transition,r=H;try{if(Ke.transition=null,H=1,t)return t()}finally{H=r,Ke.transition=n,q=e,!(q&6)&&Zt()}}function _l(){Ue=qn.current,Y(qn)}function fn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,og(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(el(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ii();break;case 3:tr(),Y(Ae),Y(Se),ul();break;case 5:ll(r);break;case 4:tr();break;case 13:Y(Z);break;case 19:Y(Z);break;case 10:sl(r.type._context);break;case 22:case 23:_l()}n=n.return}if(pe=t,ae=t=Kt(t.current,null),me=Ue=e,de=0,ts=null,vl=Ri=yn=0,Pe=Ir=null,dn!==null){for(e=0;e<dn.length;e++)if(n=dn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}dn=null}return t}function yh(t,e){do{var n=ae;try{if(rl(),Fs.current=pi,fi){for(var r=ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}fi=!1}if(vn=0,fe=ce=ee=null,Rr=!1,Xr=0,ml.current=null,n===null||n.return===null){de=1,ts=e,ae=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=me,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Eu(o);if(w!==null){w.flags&=-257,ju(w,o,a,i,e),w.mode&1&&xu(i,u,e),e=w,l=u;var _=e.updateQueue;if(_===null){var k=new Set;k.add(l),e.updateQueue=k}else _.add(l);break e}else{if(!(e&1)){xu(i,u,e),kl();break e}l=Error(N(426))}}else if(X&&a.mode&1){var S=Eu(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),ju(S,o,a,i,e),tl(nr(l,a));break e}}i=l=nr(l,a),de!==4&&(de=2),Ir===null?Ir=[i]:Ir.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=th(i,l,e);vu(i,p);break e;case 1:a=l;var h=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Vt===null||!Vt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=nh(i,a,e);vu(i,v);break e}}i=i.return}while(i!==null)}kh(n)}catch(x){e=x,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function wh(){var t=gi.current;return gi.current=pi,t===null?pi:t}function kl(){(de===0||de===3||de===2)&&(de=4),pe===null||!(yn&268435455)&&!(Ri&268435455)||Dt(pe,me)}function yi(t,e){var n=q;q|=2;var r=wh();(pe!==t||me!==e)&&(wt=null,fn(t,e));do try{Og();break}catch(s){yh(t,s)}while(!0);if(rl(),q=n,gi.current=r,ae!==null)throw Error(N(261));return pe=null,me=0,de}function Og(){for(;ae!==null;)_h(ae)}function Rg(){for(;ae!==null&&!rp();)_h(ae)}function _h(t){var e=xh(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?kh(t):ae=e,ml.current=null}function kh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jg(n,e),n!==null){n.flags&=32767,ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,ae=null;return}}else if(n=Eg(n,e,Ue),n!==null){ae=n;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);de===0&&(de=5)}function an(t,e,n){var r=H,s=Ke.transition;try{Ke.transition=null,H=1,Ag(t,e,n,r)}finally{Ke.transition=s,H=r}return null}function Ag(t,e,n,r){do Jn();while(Bt!==null);if(q&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(fp(t,i),t===pe&&(ae=pe=null,me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ts||(Ts=!0,Eh(Zs,function(){return Jn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var o=H;H=1;var a=q;q|=4,ml.current=null,Ng(t,n),gh(n,t),Zp(Jo),ti=!!Qo,Jo=Qo=null,t.current=n,Tg(n),sp(),q=a,H=o,Ke.transition=i}else t.current=n;if(Ts&&(Ts=!1,Bt=t,vi=s),i=t.pendingLanes,i===0&&(Vt=null),ap(n.stateNode),$e(t,se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(mi)throw mi=!1,t=ma,ma=null,t;return vi&1&&t.tag!==0&&Jn(),i=t.pendingLanes,i&1?t===va?$r++:($r=0,va=t):$r=0,Zt(),null}function Jn(){if(Bt!==null){var t=td(vi),e=Ke.transition,n=H;try{if(Ke.transition=null,H=16>t?16:t,Bt===null)var r=!1;else{if(t=Bt,Bt=null,vi=0,q&6)throw Error(N(331));var s=q;for(q|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Ar(8,d,i)}var f=d.child;if(f!==null)f.return=d,R=f;else for(;R!==null;){d=R;var m=d.sibling,w=d.return;if(hh(d),d===u){R=null;break}if(m!==null){m.return=w,R=m;break}R=w}}}var _=i.alternate;if(_!==null){var k=_.child;if(k!==null){_.child=null;do{var S=k.sibling;k.sibling=null,k=S}while(k!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ar(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,R=p;break e}R=i.return}}var h=t.current;for(R=h;R!==null;){o=R;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,R=g;else e:for(o=h;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oi(9,a)}}catch(x){re(a,a.return,x)}if(a===o){R=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,R=v;break e}R=a.return}}if(q=s,Zt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(xi,t)}catch{}r=!0}return r}finally{H=n,Ke.transition=e}}return!1}function Uu(t,e,n){e=nr(n,e),e=th(t,e,1),t=Ht(t,e,1),e=Ne(),t!==null&&(os(t,1,e),$e(t,e))}function re(t,e,n){if(t.tag===3)Uu(t,t,n);else for(;e!==null;){if(e.tag===3){Uu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vt===null||!Vt.has(r))){t=nr(n,t),t=nh(e,t,1),e=Ht(e,t,1),t=Ne(),e!==null&&(os(e,1,t),$e(e,t));break}}e=e.return}}function Ig(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ne(),t.pingedLanes|=t.suspendedLanes&n,pe===t&&(me&n)===n&&(de===4||de===3&&(me&130023424)===me&&500>se()-yl?fn(t,0):vl|=n),$e(t,e)}function Sh(t,e){e===0&&(t.mode&1?(e=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):e=1);var n=Ne();t=Tt(t,e),t!==null&&(os(t,e,n),$e(t,n))}function $g(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sh(t,n)}function Lg(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Sh(t,n)}var xh;xh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)Re=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Re=!1,xg(t,e,n);Re=!!(t.flags&131072)}else Re=!1,X&&e.flags&1048576&&Nd(e,li,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ws(t,e),t=e.pendingProps;var s=Xn(e,Se.current);Qn(e,n),s=dl(null,e,r,t,s,n);var i=hl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(r)?(i=!0,oi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ol(e),s.updater=Pi,e.stateNode=s,s._reactInternals=e,ia(e,r,t,n),e=la(null,e,r,!0,i,n)):(e.tag=0,X&&i&&Za(e),Ce(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ws(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Ug(r),t=tt(r,t),s){case 0:e=aa(null,e,r,t,n);break e;case 1:e=Tu(null,e,r,t,n);break e;case 11:e=Cu(null,e,r,t,n);break e;case 14:e=Nu(null,e,r,tt(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),aa(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Tu(t,e,r,s,n);case 3:e:{if(oh(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Ad(t,e),di(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=nr(Error(N(423)),e),e=bu(t,e,r,n,s);break e}else if(r!==s){s=nr(Error(N(424)),e),e=bu(t,e,r,n,s);break e}else for(Me=qt(e.stateNode.containerInfo.firstChild),Fe=e,X=!0,st=null,n=Od(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),r===s){e=bt(t,e,n);break e}Ce(t,e,r,n)}e=e.child}return e;case 5:return Id(e),t===null&&na(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Yo(r,s)?o=null:i!==null&&Yo(r,i)&&(e.flags|=32),ih(t,e),Ce(t,e,o,n),e.child;case 6:return t===null&&na(e),null;case 13:return ah(t,e,n);case 4:return al(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=er(e,null,r,n):Ce(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Cu(t,e,r,s,n);case 7:return Ce(t,e,e.pendingProps,n),e.child;case 8:return Ce(t,e,e.pendingProps.children,n),e.child;case 12:return Ce(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Q(ui,r._currentValue),r._currentValue=o,i!==null)if(at(i.value,o)){if(i.children===s.children&&!Ae.current){e=bt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=jt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ra(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ra(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ce(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Qn(e,n),s=Je(s),r=r(s),e.flags|=1,Ce(t,e,r,n),e.child;case 14:return r=e.type,s=tt(r,e.pendingProps),s=tt(r.type,s),Nu(t,e,r,s,n);case 15:return rh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Ws(t,e),e.tag=1,Ie(r)?(t=!0,oi(e)):t=!1,Qn(e,n),eh(e,r,s),ia(e,r,s,n),la(null,e,r,!0,t,n);case 19:return lh(t,e,n);case 22:return sh(t,e,n)}throw Error(N(156,e.tag))};function Eh(t,e){return Yc(t,e)}function Dg(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,r){return new Dg(t,e,n,r)}function Sl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ug(t){if(typeof t=="function")return Sl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fa)return 11;if(t===za)return 14}return 2}function Kt(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Sl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case In:return pn(n.children,s,i,e);case Ba:o=8,s|=8;break;case bo:return t=Ge(12,n,e,s|2),t.elementType=bo,t.lanes=i,t;case Po:return t=Ge(13,n,e,s),t.elementType=Po,t.lanes=i,t;case Oo:return t=Ge(19,n,e,s),t.elementType=Oo,t.lanes=i,t;case Ic:return Ai(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rc:o=10;break e;case Ac:o=9;break e;case Fa:o=11;break e;case za:o=14;break e;case It:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Ge(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function pn(t,e,n,r){return t=Ge(7,t,r,e),t.lanes=n,t}function Ai(t,e,n,r){return t=Ge(22,t,r,e),t.elementType=Ic,t.lanes=n,t.stateNode={isHidden:!1},t}function mo(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function vo(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mg(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xl(t,e,n,r,s,i,o,a,l){return t=new Mg(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ge(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ol(i),t}function Bg(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:An,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jh(t){if(!t)return Jt;t=t._reactInternals;e:{if(kn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Ie(n))return jd(t,n,e)}return e}function Ch(t,e,n,r,s,i,o,a,l){return t=xl(n,r,!0,t,s,i,o,a,l),t.context=jh(null),n=t.current,r=Ne(),s=Gt(n),i=jt(r,s),i.callback=e??null,Ht(n,i,s),t.current.lanes=s,os(t,s,r),$e(t,r),t}function Ii(t,e,n,r){var s=e.current,i=Ne(),o=Gt(s);return n=jh(n),e.context===null?e.context=n:e.pendingContext=n,e=jt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ht(s,e,o),t!==null&&(ot(t,s,o,i),Bs(t,s,o)),o}function wi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function El(t,e){Mu(t,e),(t=t.alternate)&&Mu(t,e)}function Fg(){return null}var Nh=typeof reportError=="function"?reportError:function(t){console.error(t)};function jl(t){this._internalRoot=t}$i.prototype.render=jl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Ii(t,e,null,null)};$i.prototype.unmount=jl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wn(function(){Ii(null,t,null,null)}),e[Nt]=null}};function $i(t){this._internalRoot=t}$i.prototype.unstable_scheduleHydration=function(t){if(t){var e=sd();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lt.length&&e!==0&&e<Lt[n].priority;n++);Lt.splice(n,0,t),n===0&&od(t)}};function Cl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Li(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bu(){}function zg(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=wi(o);i.call(u)}}var o=Ch(e,r,t,0,null,!1,!1,"",Bu);return t._reactRootContainer=o,t[Nt]=o.current,Gr(t.nodeType===8?t.parentNode:t),wn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=wi(l);a.call(u)}}var l=xl(t,0,!1,null,null,!1,!1,"",Bu);return t._reactRootContainer=l,t[Nt]=l.current,Gr(t.nodeType===8?t.parentNode:t),wn(function(){Ii(e,l,n,r)}),l}function Di(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=wi(o);a.call(l)}}Ii(e,o,t,s)}else o=zg(n,e,t,s,r);return wi(o)}nd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Er(e.pendingLanes);n!==0&&(Ha(e,n|1),$e(e,se()),!(q&6)&&(rr=se()+500,Zt()))}break;case 13:wn(function(){var r=Tt(t,1);if(r!==null){var s=Ne();ot(r,t,1,s)}}),El(t,1)}};Va=function(t){if(t.tag===13){var e=Tt(t,134217728);if(e!==null){var n=Ne();ot(e,t,134217728,n)}El(t,134217728)}};rd=function(t){if(t.tag===13){var e=Gt(t),n=Tt(t,e);if(n!==null){var r=Ne();ot(n,t,e,r)}El(t,e)}};sd=function(){return H};id=function(t,e){var n=H;try{return H=t,e()}finally{H=n}};Fo=function(t,e,n){switch(e){case"input":if(Io(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ni(r);if(!s)throw Error(N(90));Lc(r),Io(r,s)}}}break;case"textarea":Uc(t,n);break;case"select":e=n.value,e!=null&&Hn(t,!!n.multiple,e,!1)}};Hc=wl;Vc=wn;var Wg={usingClientEntryPoint:!1,Events:[ls,Un,Ni,Wc,qc,wl]},wr={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qg={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qc(t),t===null?null:t.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||Fg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{xi=bs.inject(qg),pt=bs}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wg;We.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cl(e))throw Error(N(200));return Bg(t,e,null,n)};We.createRoot=function(t,e){if(!Cl(t))throw Error(N(299));var n=!1,r="",s=Nh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=xl(t,1,!1,null,null,n,!1,r,s),t[Nt]=e.current,Gr(t.nodeType===8?t.parentNode:t),new jl(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Qc(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return wn(t)};We.hydrate=function(t,e,n){if(!Li(e))throw Error(N(200));return Di(null,t,e,!0,n)};We.hydrateRoot=function(t,e,n){if(!Cl(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Nh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ch(e,null,t,1,n??null,s,!1,i,o),t[Nt]=e.current,Gr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $i(e)};We.render=function(t,e,n){if(!Li(e))throw Error(N(200));return Di(null,t,e,!1,n)};We.unmountComponentAtNode=function(t){if(!Li(t))throw Error(N(40));return t._reactRootContainer?(wn(function(){Di(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};We.unstable_batchedUpdates=wl;We.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Li(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Di(t,e,n,!1,r)};We.version="18.3.1-next-f1338f8080-20240426";function Th(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Th)}catch(t){console.error(t)}}Th(),Tc.exports=We;var Hg=Tc.exports,bh,Fu=Hg;bh=Fu.createRoot,Fu.hydrateRoot;var Ph={exports:{}},Vg="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gg=Vg,Kg=Gg;function Oh(){}function Rh(){}Rh.resetWarningCache=Oh;var Qg=function(){function t(r,s,i,o,a,l){if(l!==Kg){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Rh,resetWarningCache:Oh};return n.PropTypes=n,n};Ph.exports=Qg();var Jg=Ph.exports;const C=yf(Jg),Yg="modulepreload",Xg=function(t){return"/pocket-budget/"+t},zu={},cs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(a=>{if(a=Xg(a),a in zu)return;zu[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Yg,l||(d.as="script",d.crossOrigin=""),d.href=a,o&&d.setAttribute("nonce",o),document.head.appendChild(d),l)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Zg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>lr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Nl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class em extends Nl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wu extends Nl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qu extends Nl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _a;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(_a||(_a={}));var tm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class nm{constructor(e,{headers:n={},customFetch:r,region:s=_a.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Zg(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return tm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(k=>{throw new em(k)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Wu(f);if(!f.ok)throw new qu(f);let w=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield f.json():w==="application/octet-stream"?_=yield f.blob():w==="text/event-stream"?_=f:w==="multipart/form-data"?_=yield f.formData():_=yield f.text(),{data:_,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof qu||s instanceof Wu?s.context:void 0}}})}}var Oe={},Tl={},Ui={},ds={},Mi={},Bi={},rm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},sr=rm();const sm=sr.fetch,Ah=sr.fetch.bind(sr),Ih=sr.Headers,im=sr.Request,om=sr.Response,lr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ih,Request:im,Response:om,default:Ah,fetch:sm},Symbol.toStringTag,{value:"Module"})),am=wf(lr);var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});let lm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Fi.default=lm;var $h=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});const um=$h(am),cm=$h(Fi);let dm=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=um.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let u=null,d=null,f=null,m=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&S&&S.length>1&&(f=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,w="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const k=await i.text();try{u=JSON.parse(k),Array.isArray(u)&&i.status===404&&(d=[],u=null,m=200,w="OK")}catch{i.status===404&&k===""?(m=204,w="No Content"):u={message:k}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,m=200,w="OK"),u&&this.shouldThrowOnError)throw new cm.default(u)}return{error:u,data:d,count:f,status:m,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Bi.default=dm;var hm=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mi,"__esModule",{value:!0});const fm=hm(Bi);let pm=class extends fm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Mi.default=pm;var gm=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ds,"__esModule",{value:!0});const mm=gm(Mi);let vm=class extends mm.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ds.default=vm;var ym=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ui,"__esModule",{value:!0});const _r=ym(ds);let wm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new _r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new _r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new _r.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new _r.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ui.default=wm;var zi={},Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.version=void 0;Wi.version="0.0.0-automated";Object.defineProperty(zi,"__esModule",{value:!0});zi.DEFAULT_HEADERS=void 0;const _m=Wi;zi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${_m.version}`};var Lh=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tl,"__esModule",{value:!0});const km=Lh(Ui),Sm=Lh(ds),xm=zi;let Em=class Dh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},xm.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new km.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Dh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",l=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Sm.default({method:o,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Tl.default=Em;var ur=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;const Uh=ur(Tl);Oe.PostgrestClient=Uh.default;const Mh=ur(Ui);Oe.PostgrestQueryBuilder=Mh.default;const Bh=ur(ds);Oe.PostgrestFilterBuilder=Bh.default;const Fh=ur(Mi);Oe.PostgrestTransformBuilder=Fh.default;const zh=ur(Bi);Oe.PostgrestBuilder=zh.default;const Wh=ur(Fi);Oe.PostgrestError=Wh.default;var jm=Oe.default={PostgrestClient:Uh.default,PostgrestQueryBuilder:Mh.default,PostgrestFilterBuilder:Bh.default,PostgrestTransformBuilder:Fh.default,PostgrestBuilder:zh.default,PostgrestError:Wh.default};const{PostgrestClient:Cm,PostgrestQueryBuilder:h0,PostgrestFilterBuilder:f0,PostgrestTransformBuilder:p0,PostgrestBuilder:g0,PostgrestError:m0}=jm;class Nm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Tm="2.15.1",bm=`realtime-js/${Tm}`,Pm="1.0.0",ka=1e4,Om=1e3,Rm=100;var Lr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Lr||(Lr={}));var le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(le||(le={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var Sa;(function(t){t.websocket="websocket"})(Sa||(Sa={}));var un;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(un||(un={}));class Am{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class qh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(K||(K={}));const Hu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Im(o,t,e,s),i),{})},Im=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Hh(i,o):xa(o)},Hh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Um(e,n)}switch(t){case K.bool:return $m(e);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return Lm(e);case K.json:case K.jsonb:return Dm(e);case K.timestamp:return Mm(e);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return xa(e);default:return xa(e)}},xa=t=>t,$m=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Lm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Dm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Um=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Hh(e,a))}return t},Mm=t=>typeof t=="string"?t.replace(" ","T"):t,Vh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class yo{constructor(e,n,r={},s=ka){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Vu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Vu||(Vu={}));class Dr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Dr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Dr.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const m=d.map(S=>S.presence_ref),w=f.map(S=>S.presence_ref),_=d.filter(S=>w.indexOf(S.presence_ref)<0),k=f.filter(S=>m.indexOf(S.presence_ref)<0);_.length>0&&(a[u]=_),k.length>0&&(l[u]=k)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(w=>w.presence_ref),m=d.filter(w=>f.indexOf(w.presence_ref)<0);e[a].unshift(...m)}r(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Gu||(Gu={}));var Ur;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ur||(Ur={}));var _t;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(_t||(_t={}));class bl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yo(this,rt.join,this.params,this.timeout),this.rejoinTimer=new qh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=le.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Dr(this),this.broadcastEndpointURL=Vh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.state==le.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Ur.PRESENCE]&&this.bindings[Ur.PRESENCE].length>0,d={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(_t.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(_t.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var w;if(this.socket.setAuth(),m===void 0){e==null||e(_t.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(w=_==null?void 0:_.length)!==null&&w!==void 0?w:0,S=[];for(let p=0;p<k;p++){const h=_[p],{filter:{event:g,schema:v,table:x,filter:E}}=h,T=m&&m[p];if(T&&T.event===g&&T.schema===v&&T.table===x&&T.filter===E)S.push(Object.assign(Object.assign({},h),{id:T.id}));else{this.unsubscribe(),this.state=le.errored,e==null||e(_t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(_t.SUBSCRIBED);return}}).receive("error",m=>{this.state=le.errored,e==null||e(_t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(_t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===le.joined&&e===Ur.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new yo(this,rt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=le.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Rm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=rt;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var _,k,S;return((_=w.filter)===null||_===void 0?void 0:_.event)==="*"||((S=(k=w.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(w=>w.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(w=>{var _,k,S,p,h,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in w){const v=w.id,x=(_=w.filter)===null||_===void 0?void 0:_.event;return v&&((k=n.ids)===null||k===void 0?void 0:k.includes(v))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const v=(h=(p=w==null?void 0:w.filter)===null||p===void 0?void 0:p.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return v==="*"||v===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===o}).map(w=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:k,table:S,commit_timestamp:p,type:h,errors:g}=_;m=Object.assign(Object.assign({},{schema:k,table:S,commit_timestamp:p,eventType:h,new:{},old:{},errors:g}),this._getPayloadRecords(_))}w.callback(m,r)})}_isClosed(){return this.state===le.closed}_isJoined(){return this.state===le.joined}_isJoining(){return this.state===le.joining}_isLeaving(){return this.state===le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&bl.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Hu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Hu(e.columns,e.old_record)),n}}const Ku=()=>{},Ps={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Bm=[1e3,2e3,5e3,1e4],Fm=1e4,zm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wm{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ka,this.transport=null,this.heartbeatIntervalMs=Ps.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ku,this.ref=0,this.reconnectTimer=null,this.logger=Ku,this.conn=null,this.sendBuffer=[],this.serializer=new Am,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>cs(async()=>{const{default:a}=await Promise.resolve().then(()=>lr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Sa.websocket}`,this.httpEndpoint=Vh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pm}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Lr.connecting:return un.Connecting;case Lr.open:return un.Open;case Lr.closing:return un.Closing;default:return un.Closed}}isConnected(){return this.connectionState()===un.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new bl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Om,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ps.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([zm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:bm};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(rt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new qh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ps.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,u;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ka,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ps.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:d=>Bm[d-1]||Fm,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Pl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qm extends Pl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ea extends Pl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Hm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Gh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>lr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Vm=()=>Hm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cs(()=>Promise.resolve().then(()=>lr),void 0)).Response:Response}),ja=t=>{if(Array.isArray(t))return t.map(n=>ja(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ja(r)}),e},Gm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Sn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const wo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Km=(t,e,n)=>Sn(void 0,void 0,void 0,function*(){const r=yield Vm();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new qm(wo(s),i,o))}).catch(s=>{e(new Ea(wo(s),s))}):e(new Ea(wo(t),t))}),Qm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Gm(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function hs(t,e,n,r,s,i){return Sn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Qm(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Km(l,a,r))})})}function _i(t,e,n,r){return Sn(this,void 0,void 0,function*(){return hs(t,"GET",e,n,r)})}function ht(t,e,n,r,s){return Sn(this,void 0,void 0,function*(){return hs(t,"POST",e,r,s,n)})}function Ca(t,e,n,r,s){return Sn(this,void 0,void 0,function*(){return hs(t,"PUT",e,r,s,n)})}function Jm(t,e,n,r){return Sn(this,void 0,void 0,function*(){return hs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Kh(t,e,n,r,s){return Sn(this,void 0,void 0,function*(){return hs(t,"DELETE",e,r,s,n)})}var je=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Ym={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xm{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Gh(s)}uploadOrUpdate(e,n,r,s){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Qu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(e=="PUT"?Ca:ht)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(e,n,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Qu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Ca(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return je(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ht(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Pl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}update(e,n,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return je(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}copy(e,n,r){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ht(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return je(this,void 0,void 0,function*(){try{const s=yield ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}download(e,n){return je(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield _i(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}info(e){return je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield _i(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ja(r),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}exists(e){return je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Jm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ue(r)&&r instanceof Ea){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}list(e,n,r){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ym),n),{prefix:e||""});return{data:yield ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}listV2(e,n){return je(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ht(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Zm="2.11.0",ev={"X-Client-Info":`storage-js/${Zm}`};var En=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,[])).next())})};class tv{constructor(e,n={},r,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ev),n),this.fetch=Gh(r)}listBuckets(){return En(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return En(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return En(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return En(this,void 0,void 0,function*(){try{return{data:yield Ca(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}emptyBucket(e){return En(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}deleteBucket(e){return En(this,void 0,void 0,function*(){try{return{data:yield Kh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}}class nv extends tv{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Xm(this.url,this.headers,e,this.fetch)}}const rv="2.55.0";let Cr="";typeof Deno<"u"?Cr="deno":typeof document<"u"?Cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cr="react-native":Cr="node";const sv={"X-Client-Info":`supabase-js-${Cr}/${rv}`},iv={headers:sv},ov={schema:"public"},av={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lv={};var uv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const cv=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ah:e=fetch,(...n)=>e(...n)},dv=()=>typeof Headers>"u"?Ih:Headers,hv=(t,e,n)=>{const r=cv(n),s=dv();return(i,o)=>uv(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var fv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,[])).next())})};function pv(t){return t.endsWith("/")?t:t+"/"}function gv(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:f}=e,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>fv(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Qh="2.71.1",On=30*1e3,Na=3,_o=Na*On,mv="http://localhost:9999",vv="supabase.auth.token",yv={"X-Client-Info":`gotrue-js/${Qh}`},Ta="X-Supabase-Api-Version",Jh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_v=10*60*1e3;class Ol extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class kv extends Ol{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Sv(t){return B(t)&&t.name==="AuthApiError"}class Yh extends Ol{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class en extends Ol{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class At extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xv(t){return B(t)&&t.name==="AuthSessionMissingError"}class Os extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rs extends en{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class As extends en{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ev(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ju extends en{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ba extends en{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ko(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Yu extends en{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Pa extends en{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xu=` 	
\r=`.split(""),jv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Xu.length;e+=1)t[Xu[e].charCodeAt(0)]=-2;for(let e=0;e<ki.length;e+=1)t[ki[e].charCodeAt(0)]=e;return t})();function Zu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ki[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ki[r]),e.queuedBits-=6}}function Xh(t,e,n){const r=jv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ec(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Tv(o,r,n)};for(let o=0;o<t.length;o+=1)Xh(t.charCodeAt(o),s,i);return e.join("")}function Cv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Nv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Cv(r,e)}}function Tv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function bv(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Xh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Pv(t){const e=[];return Nv(t,n=>e.push(n)),new Uint8Array(e)}function Ov(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Zu(s,n,r)),Zu(null,n,r),e.join("")}function Rv(t){return Math.round(Date.now()/1e3)+t}function Av(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",rn={tested:!1,writable:!1},Zh=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rn.tested)return rn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),rn.tested=!0,rn.writable=!0}catch{rn.tested=!0,rn.writable=!1}return rn.writable};function Iv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const ef=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>lr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},$v=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},sn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rt=async(t,e)=>{await t.removeItem(e)};class qi{constructor(){this.promise=new qi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}qi.promiseConstructor=Promise;function So(t){const e=t.split(".");if(e.length!==3)throw new Pa("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!wv.test(e[r]))throw new Pa("JWT not in base64url format");return{header:JSON.parse(ec(e[0])),payload:JSON.parse(ec(e[1])),signature:bv(e[2]),raw:{header:e[0],payload:e[1]}}}async function Lv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Dv(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Uv(t){return("0"+t.toString(16)).substr(-2)}function Mv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Uv).join("")}async function Bv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Fv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Bv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function jn(t,e,n=!1){const r=Mv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Rn(t,`${e}-code-verifier`,s);const i=await Fv(r);return[i,r===i?"plain":"s256"]}const zv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wv(t){const e=t.headers.get(Ta);if(!e||!e.match(zv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Hv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cn(t){if(!Vv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tc(t){return JSON.parse(JSON.stringify(t))}var Gv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const ln=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Kv=[502,503,504];async function nc(t){var e;if(!$v(t))throw new ba(ln(t),0);if(Kv.includes(t.status))throw new ba(ln(t),t.status);let n;try{n=await t.json()}catch(i){throw new Yh(ln(i),i)}let r;const s=Wv(t);if(s&&s.getTime()>=Jh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Yu(ln(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Yu(ln(n),t.status,n.weak_password.reasons);throw new kv(ln(n),t.status||500,r)}const Qv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function F(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ta]||(i[Ta]=Jh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Jv(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Jv(t,e,n,r,s,i){const o=Qv(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new ba(ln(l),0)}if(a.ok||await nc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await nc(l)}}function yt(t){var e;let n=null;ey(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Rv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function rc(t){const e=yt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ut(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Yv(t){return{data:t,error:null}}function Xv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Gv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Zv(t){return t}function ey(t){return t.access_token&&t.refresh_token&&t.expires_in}const Eo=["global","local","others"];var ty=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class ny{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=ef(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Eo[0]){if(Eo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Eo.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ut})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ty(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Xv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ut})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Zv});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,w=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return w.length>0&&(w.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(_.split(";")[1].split("=")[1]);u[`${S}Page`]=k}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Cn(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ut})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Cn(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ut})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Cn(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ut})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Cn(e.userId);try{const{data:n,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Cn(e.userId),Cn(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}function sc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function ry(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Nn={debug:!!(globalThis&&Zh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class sy extends tf{}async function iy(t,e,n){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Nn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new sy(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}ry();const oy={url:mv,storageKey:vv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ic(t,e,n){return await n()}const Tn={};class ns{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},oy),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new ny({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ef(s.fetch),this.lock=s.lock||ic,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=iy:this.lock=ic,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Zh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=sc(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Tn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Tn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Tn[this.storageKey]=Object.assign(Object.assign({},Tn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Iv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),et()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ev(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new Yh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:yt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:f,options:m}=e;let w=null,_=null;this.flowType==="pkce"&&([w,_]=await jn(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:w,code_challenge_method:_},xform:yt})}else if("phone"in e){const{phone:d,password:f,options:m}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:yt})}else throw new Rs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:rc})}else throw new Rs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Os}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,u,d,f,m,w;let _,k;if("message"in e)_=e.message,k=e.signature;else{const{chain:S,wallet:p,statement:h,options:g}=e;let v;if(et())if(typeof p=="object")v=p;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))v=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=p}const x=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in v&&v.signIn){const E=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),h?{statement:h}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)_=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),k=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${x.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await v.signMessage(new TextEncoder().encode(_),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=E}}try{const{data:S,error:p}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Ov(k)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:yt});if(p)throw p;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Os}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:p})}catch(S){if(B(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const n=await sn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:yt});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Os}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:yt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Os}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await jn(this.storage,this.storageKey));const{error:f}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Rs("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:yt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await jn(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Yv})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new At;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await F(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await F(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Rs("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<_o:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await sn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=xo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ut}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ut})})}catch(n){if(B(n))return xv(n)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new At;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await jn(this.storage,this.storageKey));const{data:u,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ut});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new At;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=So(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new At;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!et())throw new As("No browser detected.");if(e.error||e.error_description||e.error_code)throw new As(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ju("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ju("No code detected.");const{data:h,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new As("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let m=d+f;l&&(m=parseInt(l));const w=m-d;w*1e3<=On&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${f}s`);const _=m-f;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,d);const{data:k,error:S}=await this._getUser(i);if(S)throw S;const p={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await sn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Sv(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Av(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await jn(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:f,error:m}=i;if(m)throw m;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",w,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Dv(async s=>(s>0&&await Lv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ko(i)&&Date.now()+o-r<On})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await sn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await sn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Rn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:xo()}else if(s&&!s.user&&!s.user){const o=await sn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Rt(this.storage,this.storageKey+"-user"),await Rn(this.storage,this.storageKey,s)):s.user=xo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<_o;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${_o}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ko(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return ko(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Rn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=tc(s);await Rn(this.storage,this.storageKey,i)}else{const s=tc(n);await Rn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),On);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/On);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${On}ms, refresh threshold is ${Na} ticks`),s<=Na&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await jn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=So(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+_v>s)return r;const{data:i,error:o}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:w,error:_}=await this.getSession();if(_||!w.session)return{data:null,error:_};r=w.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=So(r);n!=null&&n.allowExpired||qv(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:w}=await this.getUser(r);if(w)throw w;return{data:{claims:i,header:s,signature:o},error:null}}const d=Hv(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Pv(`${a}.${l}`)))throw new Pa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}ns.nextInstanceID=0;const ay=ns;class ly extends ay{constructor(e){super(e)}}var uy=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function l(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(t,[])).next())})};class cy{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=pv(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:ov,realtime:lv,auth:Object.assign(Object.assign({},av),{storageKey:u}),global:iv},f=gv(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=hv(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Cm(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new nv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new nm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return uy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ly({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Wm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const dy=(t,e,n)=>new cy(t,e,n);function hy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}hy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fy="https://micbqxkhejumwddmwyxm.supabase.co",py="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1pY2JxeGtoZWp1bXdkZG13eXhtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyMzQzOTMsImV4cCI6MjA3MDgxMDM5M30.w1Mc6TrXvkRwjqc6gIGA4baVaMuwVHxR76nH5kt8BJg",ie=dy(fy,py,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}}),ke={email:"test@me.com",password:"pass123",user:{id:"demo-admin-user-id",email:"test@me.com",user_metadata:{full_name:"Demo Admin"},created_at:new Date().toISOString()},profile:{id:"demo-admin-user-id",email:"test@me.com",full_name:"Demo Admin",created_at:new Date().toISOString()}},gy=async(t,e)=>{if(t===ke.email&&e===ke.password)return await Oa(t,e);const{data:n,error:r}=await ie.auth.signUp({email:t,password:e});return{data:n,error:r}},Oa=async(t,e)=>{if(t===ke.email&&e===ke.password){const s={user:ke.user,access_token:"demo-admin-token",refresh_token:"demo-admin-refresh",expires_in:3600,token_type:"bearer"};return localStorage.setItem("demo-admin-session",JSON.stringify(s)),window.dispatchEvent(new CustomEvent("demo-auth-change",{detail:{session:s,event:"SIGNED_IN"}})),{data:{user:ke.user,session:s},error:null}}const{data:n,error:r}=await ie.auth.signInWithPassword({email:t,password:e});return{data:n,error:r}},my=async()=>{const{data:t,error:e}=await ie.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});return{data:t,error:e}},vy=async()=>{localStorage.removeItem("demo-admin-session"),window.dispatchEvent(new CustomEvent("demo-auth-change",{detail:{session:null,event:"SIGNED_OUT"}}));const{error:t}=await ie.auth.signOut();return{error:t}},yy=async()=>{try{const t=localStorage.getItem("demo-admin-session");if(t)return{user:JSON.parse(t).user,error:null};const{data:{user:e},error:n}=await ie.auth.getUser();return{user:e,error:n}}catch(t){return console.error("Error getting current user:",t),{user:null,error:t}}},wy=async(t,e,n)=>{if(t===ke.user.id)return{data:[ke.profile],error:null};const{data:r,error:s}=await ie.from("user_profiles").insert([{id:t,email:e,full_name:n,created_at:new Date().toISOString()}]).select();return{data:r,error:s}},_y=async t=>{if(t===ke.user.id)return{data:ke.profile,error:null};const{data:e,error:n}=await ie.from("user_profiles").select("*").eq("id",t).single();return{data:e,error:n}};let Be=[],Ra={income:[{name:"Salary",icon:""},{name:"Freelance",icon:""},{name:"Investment",icon:""},{name:"Business",icon:""},{name:"Gift",icon:""}],expense:[{name:"Groceries",icon:""},{name:"Rent",icon:""},{name:"Transportation",icon:""},{name:"Entertainment",icon:""},{name:"Bills",icon:""},{name:"Shopping",icon:""}]},Et=[],rs=[];const ky=async t=>{if(t===ke.user.id)return{data:Be,error:null};const{data:e,error:n}=await ie.from("budgets").select(`
      *,
      transactions (*)
    `).eq("user_id",t).order("created_at",{ascending:!1});return{data:e,error:n}},oc=async(t,e)=>{if(t===ke.user.id){const s={id:`demo-budget-${Date.now()}`,user_id:t,name:e.name,category_budgets:e.categoryBudgets||[],created_at:new Date().toISOString(),transactions:[]};return Be.unshift(s),{data:[s],error:null}}const{data:n,error:r}=await ie.from("budgets").insert([{user_id:t,name:e.name,category_budgets:e.categoryBudgets||[],created_at:new Date().toISOString()}]).select();return{data:n,error:r}},nf=async(t,e)=>{if(t.startsWith("demo-budget-")){const s=Be.findIndex(i=>i.id===t);return s!==-1?(Be[s]={...Be[s],name:e.name,category_budgets:e.categoryBudgets||[]},{data:[Be[s]],error:null}):{data:null,error:{message:"Budget not found"}}}const{data:n,error:r}=await ie.from("budgets").update({name:e.name,category_budgets:e.categoryBudgets||[]}).eq("id",t).select();return{data:n,error:r}},Sy=async t=>{if(t.startsWith("demo-budget-"))return Be=Be.filter(n=>n.id!==t),{error:null};const{error:e}=await ie.from("budgets").delete().eq("id",t);return{error:e}},rf=async(t,e)=>{if(t.startsWith("demo-budget-")){const s=Be.findIndex(i=>i.id===t);if(s!==-1){const i={id:`demo-tx-${Date.now()}`,budget_id:t,name:e.name,amount:e.amount,budgeted_amount:e.budgetedAmount,category:e.category,type:e.type,date:e.date,receipt_url:e.receipt,created_at:new Date().toISOString()};return Be[s].transactions||(Be[s].transactions=[]),Be[s].transactions.push(i),{data:[i],error:null}}return{data:null,error:{message:"Budget not found"}}}const{data:n,error:r}=await ie.from("transactions").insert([{budget_id:t,name:e.name,amount:e.amount,budgeted_amount:e.budgetedAmount,category:e.category,type:e.type,date:e.date,receipt_url:e.receipt,created_at:new Date().toISOString()}]).select();return{data:n,error:r}},xy=async(t,e)=>{if(t.startsWith("demo-tx-")){for(const s of Be)if(s.transactions){const i=s.transactions.findIndex(o=>o.id===t);if(i!==-1)return s.transactions[i]={...s.transactions[i],name:e.name,amount:e.amount,budgeted_amount:e.budgetedAmount,category:e.category,type:e.type,date:e.date,receipt_url:e.receipt},{data:[s.transactions[i]],error:null}}return{data:null,error:{message:"Transaction not found"}}}const{data:n,error:r}=await ie.from("transactions").update({name:e.name,amount:e.amount,budgeted_amount:e.budgetedAmount,category:e.category,type:e.type,date:e.date,receipt_url:e.receipt}).eq("id",t).select();return{data:n,error:r}},Ey=async t=>{if(t===ke.user.id)return{data:{categories:Ra},error:null};const{data:e,error:n}=await ie.from("user_categories").select("*").eq("user_id",t).single();return{data:e,error:n}},jy=async(t,e)=>{if(t===ke.user.id)return Ra=e,{data:[{categories:Ra}],error:null};const{data:n,error:r}=await ie.from("user_categories").upsert([{user_id:t,categories:e}]).select();return{data:n,error:r}},ss=t=>({...t,goal_contributions:(t.goal_contributions||t.contributions||[]).sort((e,n)=>new Date(n.contributed_at||n.date||n.created_at)-new Date(e.contributed_at||e.date||e.created_at))}),Cy=async t=>{if(t===ke.user.id)return{data:Et.map(s=>({...s,goal_contributions:rs.filter(i=>i.goal_id===s.id).sort((i,o)=>new Date(o.contributed_at)-new Date(i.contributed_at))})),error:null};const{data:e,error:n}=await ie.from("goals").select(`
      *,
      goal_contributions (*)
    `).eq("user_id",t).order("created_at",{ascending:!1});return{data:(e==null?void 0:e.map(ss))||[],error:n}},Ny=async(t,e)=>{const n={user_id:t,name:e.name,target_amount:e.targetAmount,target_date:e.targetDate,status:e.status||"active",milestones:e.milestones||[25,50,75,100],linked_budget_id:e.linkedBudgetId||null,created_at:new Date().toISOString()};if(t===ke.user.id){const i={...n,id:`demo-goal-${Date.now()}`};return Et=[i,...Et],{data:[ss(i)],error:null}}const{data:r,error:s}=await ie.from("goals").insert([n]).select(`
      *,
      goal_contributions (*)
    `);return{data:(r==null?void 0:r.map(ss))||[],error:s}},Ty=async(t,e)=>{const n={name:e.name,target_amount:e.targetAmount,target_date:e.targetDate,status:e.status,milestones:e.milestones,linked_budget_id:e.linkedBudgetId??null};if(t.startsWith("demo-goal-")){const o=Et.findIndex(a=>a.id===t);return o===-1?{data:null,error:{message:"Goal not found"}}:(Et[o]={...Et[o],...Object.fromEntries(Object.entries(n).filter(([,a])=>a!==void 0))},{data:[ss(Et[o])],error:null})}const r=Object.fromEntries(Object.entries(n).filter(([,o])=>o!==void 0)),{data:s,error:i}=await ie.from("goals").update(r).eq("id",t).select(`
      *,
      goal_contributions (*)
    `);return{data:(s==null?void 0:s.map(ss))||[],error:i}},by=async t=>{if(t.startsWith("demo-goal-"))return Et=Et.filter(n=>n.id!==t),rs=rs.filter(n=>n.goal_id!==t),{error:null};const{error:e}=await ie.from("goals").delete().eq("id",t);return{error:e}},Py=async(t,e)=>{const n={goal_id:t,amount:e.amount,contributed_at:e.date||new Date().toISOString(),note:e.note||null,created_at:new Date().toISOString()};if(t.startsWith("demo-goal-")){const i={id:`demo-goal-contribution-${Date.now()}`,...n};return rs=[i,...rs],{data:[i],error:null}}const{data:r,error:s}=await ie.from("goal_contributions").insert([n]).select();return{data:r,error:s}},sf=A.createContext({});function Rl(){const t=A.useContext(sf);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function of({children:t}){const[e,n]=A.useState(null),[r,s]=A.useState(null),[i,o]=A.useState(!0),[a,l]=A.useState(!0),u=A.useRef(!0),d=A.useCallback(w=>{u.current&&s(w)},[s]),f=A.useCallback(async(w,_)=>{var k;try{const{data:S,error:p}=await _y(w);if(p&&p.code==="PGRST116"){if(!_){d(null);return}const{data:h,error:g}=await wy(_.id,_.email,((k=_.user_metadata)==null?void 0:k.full_name)||_.email);if(g){console.error("Error creating user profile:",g),d(null);return}d((h==null?void 0:h[0])||null)}else p?(console.error("Error loading user profile:",p),d(null)):d(S)}catch(S){console.error("Error loading user profile:",S),d(null)}},[d]);A.useEffect(()=>{u.current=!0,(async()=>{try{const S=new Promise((g,v)=>setTimeout(()=>v(new Error("Session timeout")),1e4)),p=yy(),{user:h}=await Promise.race([p,S]);if(!u.current)return;n(h),h?(o(!0),f(h.id,h).finally(()=>{u.current&&o(!1)})):(d(null),o(!1))}catch(S){console.error("Error getting initial session:",S),u.current&&(n(null),d(null),o(!1))}finally{u.current&&l(!1)}})();const{data:{subscription:_}}=ie.auth.onAuthStateChange(async(S,p)=>{var h;if(u.current){console.log("Auth state changed:",S,(h=p==null?void 0:p.user)==null?void 0:h.id);try{if(n((p==null?void 0:p.user)??null),p!=null&&p.user){o(!0),f(p.user.id,p.user).catch(g=>{console.error("Error handling auth state change:",g)}).finally(()=>{u.current&&(o(!1),l(!1))});return}d(null),u.current&&(o(!1),l(!1))}catch(g){console.error("Error handling auth state change:",g),u.current&&(o(!1),l(!1))}}}),k=async S=>{var g;if(!u.current)return;const{session:p,event:h}=S.detail;console.log("Demo auth state changed:",h,(g=p==null?void 0:p.user)==null?void 0:g.id);try{if(n((p==null?void 0:p.user)??null),p!=null&&p.user){o(!0),f(p.user.id,p.user).catch(v=>{console.error("Error handling demo auth state change:",v)}).finally(()=>{u.current&&(o(!1),l(!1))});return}d(null),u.current&&(o(!1),l(!1))}catch(v){console.error("Error handling demo auth state change:",v),u.current&&(o(!1),l(!1))}};return window.addEventListener("demo-auth-change",k),()=>{u.current=!1,_.unsubscribe(),window.removeEventListener("demo-auth-change",k)}},[f,d]);const m={user:e,userProfile:r,loading:i,initializing:a};return c.jsx(sf.Provider,{value:m,children:t})}of.propTypes={children:C.node.isRequired};const Oy=24*60*60*1e3,Ry={weekly:7,biweekly:14,semimonthly:15,"semi-monthly":15,quarterly:91,yearly:365,annual:365},jo={green:{label:"On Track"},yellow:{label:"Watch"},red:{label:"Over"}},ac=(t="")=>t.toLowerCase().trim(),Ay=(t,e,n)=>Math.min(Math.max(t,e),n),kr=t=>{if(!t)return null;const e=new Date(t);return Number.isNaN(e.getTime())?null:e},lc=(t,e)=>{const n=new Date(t);return n.setDate(n.getDate()+e),n},Co=(t,e)=>{const n=new Date(t);return n.setMonth(n.getMonth()+e),n},Iy=t=>(((t==null?void 0:t.cycle)||(t==null?void 0:t.cycleMetadata)||{}).type||(t==null?void 0:t.cycleType)||"monthly").toLowerCase(),$y=(t,e)=>{const n=(t==null?void 0:t.cycle)||(t==null?void 0:t.cycleMetadata)||{};return kr(n.currentStart)||kr(n.startDate)||kr(t==null?void 0:t.cycleStartDate)||kr(t==null?void 0:t.createdAt)||kr(t==null?void 0:t.created_at)||new Date(e)},af=(t,e)=>{const n=(e==null?void 0:e.cycle)||(e==null?void 0:e.cycleMetadata)||{};return typeof n.lengthDays=="number"?n.lengthDays:typeof n.days=="number"?n.days:t==="custom"&&typeof n.customDays=="number"?n.customDays:t==="per-paycheck"&&typeof n.payFrequencyDays=="number"||t==="per_paycheck"&&typeof n.payFrequencyDays=="number"?n.payFrequencyDays:typeof n.cadenceDays=="number"?n.cadenceDays:typeof n.intervalDays=="number"?n.intervalDays:t==="monthly"?30:t==="biweekly"?14:t==="weekly"?7:t==="per-paycheck"||t==="per_paycheck"?14:t==="custom"?30:Ry[t]||30},uc=(t,e,n)=>{const r=(n==null?void 0:n.cycle)||(n==null?void 0:n.cycleMetadata)||{};switch(e){case"monthly":return Co(t,r.repeatEvery||1);case"quarterly":return Co(t,3);case"yearly":case"annual":return Co(t,12);case"semimonthly":case"semi-monthly":{const s=r.days||r.lengthDays||15;return lc(t,s)}default:{const s=af(e,n);return lc(t,s)}}},Ly=(t,e)=>{const n=Iy(t);let r=$y(t,e),s=uc(r,n,t),i=0;for(;s&&e>=s&&i<500;)r=s,s=uc(r,n,t),i+=1;const o=s?s.getTime()-r.getTime():af(n,t)*Oy,a=e.getTime()-r.getTime(),l=o>0?Ay(a/o,0,1):1;return{cycleType:n,currentStart:r,nextStart:s,totalMs:o,elapsedMs:a,progress:l}},Gs=t=>`$${Number.parseFloat(t||0).toFixed(2)}`,Dy=(t,e,n,r)=>{const s=Math.round(r*100);return`Spent ${Gs(t)} of ${Gs(e)} with ${s}% of the cycle elapsed (expected ${Gs(n)}).`},cc=(t,e,n)=>{const r=Number.isFinite(e)?e:0,s=Number.isFinite(t)?t:0,i=r*n;if(r<=0){if(s<=0){const d="green";return{status:d,...jo[d],tooltip:"No budget set for this period.",actual:s,budgeted:r,expected:i}}const u="red";return{status:u,...jo[u],tooltip:`Spending ${Gs(s)} without a set budget for this cycle.`,actual:s,budgeted:r,expected:i}}const o=s/r,a=.1;let l="green";return o>n+a?l="red":o>n&&(l="yellow"),{status:l,...jo[l],tooltip:Dy(s,r,i,n),actual:s,budgeted:r,expected:i}},lf=(t,e=new Date)=>{const n=t||{},r=(n.transactions||[]).filter(m=>m.type==="expense"),s=Ly(n,e),i=s.progress??1,a=(n.categoryBudgets||[]).map(m=>{const w=ac(m.category),_=r.filter(p=>ac(p.category)===w).reduce((p,h)=>p+(Number.isFinite(h.amount)?h.amount:0),0),k=Number.isFinite(m.budgetedAmount)?m.budgetedAmount:Number.isFinite(m.amount)?m.amount:0,S=cc(_,k,i);return{name:m.category,key:w,actual:_,budgeted:k,...S}}),l=a.reduce((m,w)=>(w.key&&(m[w.key]=w),m),{}),u=a.reduce((m,w)=>m+w.budgeted,0),d=r.reduce((m,w)=>m+(Number.isFinite(w.amount)?w.amount:0),0),f=cc(d,u,i);return{cycle:{type:s.cycleType,start:s.currentStart,end:s.nextStart,progress:i},categories:a,categoriesByName:l,overall:f}};function uf({budgets:t,setSelectedBudget:e,setViewMode:n,setBudgets:r,userId:s}){const[i,o]=A.useState(null),[a,l]=A.useState(""),[u,d]=A.useState(null),[f,m]=A.useState(!1),w=h=>{e(h),n("details")},_=async()=>{m(!0);try{const h={name:"My Budget",categoryBudgets:[]},{data:g,error:v}=await oc(s,h);if(v)console.error("Error creating budget:",v),alert("Failed to create budget. Please try again.");else if(g!=null&&g[0]){const x={id:g[0].id,name:g[0].name,createdAt:new Date(g[0].created_at).toLocaleDateString(),categoryBudgets:g[0].category_budgets||[],transactions:[]};r([x,...t])}}catch(h){console.error("Error creating budget:",h),alert("Failed to create budget. Please try again.")}finally{m(!1)}},k=async h=>{if(!a.trim()){o(null);return}m(!0);try{const{error:g}=await nf(h.id,{name:a.trim(),categoryBudgets:h.categoryBudgets});if(g)console.error("Error updating budget:",g),alert("Failed to update budget name. Please try again.");else{const v=t.map(x=>x.id===h.id?{...x,name:a.trim()}:x);r(v)}}catch(g){console.error("Error updating budget:",g),alert("Failed to update budget name. Please try again.")}finally{o(null),m(!1)}},S=async h=>{m(!0);try{const g={name:`${h.name} (Copy)`,categoryBudgets:h.categoryBudgets||[]},{data:v,error:x}=await oc(s,g);if(x)console.error("Error duplicating budget:",x),alert("Failed to duplicate budget. Please try again.");else if(v!=null&&v[0]){const E={id:v[0].id,name:v[0].name,createdAt:new Date(v[0].created_at).toLocaleDateString(),categoryBudgets:v[0].category_budgets||[],transactions:[]};r([E,...t])}}catch(g){console.error("Error duplicating budget:",g),alert("Failed to duplicate budget. Please try again.")}finally{d(null),m(!1)}},p=async h=>{m(!0);try{const{error:g}=await Sy(h);g?(console.error("Error deleting budget:",g),alert("Failed to delete budget. Please try again.")):r(t.filter(v=>v.id!==h))}catch(g){console.error("Error deleting budget:",g),alert("Failed to delete budget. Please try again.")}finally{d(null),m(!1)}};return c.jsxs("div",{children:[c.jsxs("div",{className:"header-section",children:[c.jsx("p",{className:"tagline",children:"Manage your budgets and stay on top of your finances."}),c.jsx("div",{className:"header-actions",children:c.jsx("button",{className:"secondary-button",onClick:()=>n("goals"),children:"View savings goals"})})]}),t.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("p",{children:"Welcome to Pocket Budget! Create your first budget to get started."}),c.jsx("button",{className:"primary-button",onClick:_,disabled:f,children:f?"Creating...":"Create Your First Budget"})]}):t.map(h=>{const g=lf(h),v=g.overall,x=(h.transactions||[]).filter(j=>j.type==="income").reduce((j,W)=>j+W.amount,0),E=(h.transactions||[]).filter(j=>j.type==="expense").reduce((j,W)=>j+W.amount,0),T=x-E,I=(h.categoryBudgets||[]).map(j=>{var Xe;const W=(h.transactions||[]).filter(lt=>lt.type==="expense"&&lt.category.toLowerCase().trim()===j.category.toLowerCase().trim()).reduce((lt,xe)=>lt+xe.amount,0),Le=W>j.budgetedAmount,De=((Xe=j.category)==null?void 0:Xe.toLowerCase().trim())||"";return{...j,actual:W,isOver:Le,pacing:g.categoriesByName[De]}}),V=I.some(j=>{var W;return j.isOver||((W=j.pacing)==null?void 0:W.status)==="red"});return c.jsx("div",{className:"budgetCard",children:c.jsxs("div",{className:"budgetCard-content",children:[c.jsxs("div",{className:"budgetCard-info",onClick:()=>w(h),children:[i===h.id?c.jsx("input",{className:"input budget-name-input",value:a,onChange:j=>l(j.target.value),onBlur:()=>k(h),onKeyPress:j=>{j.key==="Enter"&&k(h)},autoFocus:!0,disabled:f}):c.jsxs("div",{className:"budgetNameRow",children:[c.jsxs("div",{className:"budgetName",onClick:j=>{j.stopPropagation(),o(h.id),l(h.name)},children:[h.name,V&&c.jsx("span",{className:"expense",style:{marginLeft:"0.5rem"},children:""})]}),c.jsxs("div",{className:`pacing-indicator pacing-${v.status}`,title:v.tooltip,role:"status","aria-label":`Overall pacing is ${v.label}`,onClick:j=>j.stopPropagation(),children:[c.jsx("span",{className:"pacing-dot","aria-hidden":"true"}),c.jsx("span",{className:"pacing-label",children:v.label})]})]}),c.jsxs("div",{className:"budgetBalance",children:["Balance: ",c.jsxs("span",{className:T>=0?"income":"expense",children:["$",T.toFixed(2)]})]}),c.jsxs("div",{className:"budgetDate",children:["Created: ",h.createdAt]}),I.length>0&&c.jsxs("div",{className:"category-budgets",children:[I.slice(0,3).map(j=>c.jsxs("div",{className:"category-budget-row",children:[c.jsxs("div",{className:"category-budget-header",children:[c.jsxs("div",{className:"category-budget-name",children:[j.category,j.isOver&&c.jsx("span",{className:"expense",style:{marginLeft:"0.3rem"},children:""})]}),j.pacing&&c.jsxs("div",{className:`pacing-indicator pacing-${j.pacing.status}`,title:j.pacing.tooltip,role:"status","aria-label":`${j.category} pacing is ${j.pacing.label}`,onClick:W=>W.stopPropagation(),children:[c.jsx("span",{className:"pacing-dot","aria-hidden":"true"}),c.jsx("span",{className:"pacing-label",children:j.pacing.label})]})]}),c.jsxs("div",{className:"category-budget-amounts",children:["$",j.actual.toFixed(2)," / $",j.budgetedAmount.toFixed(2)]}),c.jsx("div",{className:"progress-bar",children:c.jsx("div",{className:`progress-fill ${j.isOver?"over":""}`,style:{width:`${Math.min(j.actual/j.budgetedAmount*100,100)}%`}})})]},j.category)),I.length>3&&c.jsxs("div",{className:"category-budget-more",children:["+",I.length-3," more categories"]})]})]}),c.jsxs("div",{className:"menuContainer",children:[c.jsx("button",{className:"menuButton",onClick:j=>{j.stopPropagation(),d(u===h.id?null:h.id)},title:"More options",disabled:f,children:""}),u===h.id&&c.jsxs("div",{className:"dropdownMenu",children:[c.jsx("button",{className:"dropdownItem",onClick:j=>{j.stopPropagation(),S(h)},disabled:f,children:"Copy Budget"}),c.jsx("button",{className:"dropdownItem delete",onClick:j=>{j.stopPropagation(),confirm(`Are you sure you want to delete "${h.name}"?`)&&p(h.id)},disabled:f,children:"Delete Budget"})]})]})]})},h.id)}),t.length>0&&c.jsxs("div",{className:"budget-actions",children:[c.jsx("button",{className:"addButton primary-button",onClick:_,disabled:f,children:f?"Creating...":"Create New Budget"}),c.jsx("button",{className:"cancelButton secondary-button cate-btn",onClick:()=>n("categories"),children:"Manage Categories"})]})]})}const Uy=C.shape({id:C.string.isRequired,name:C.string.isRequired,amount:C.number.isRequired,budgetedAmount:C.number,category:C.string.isRequired,type:C.oneOf(["income","expense"]).isRequired,date:C.string.isRequired,receipt:C.string}),My=C.shape({category:C.string.isRequired,budgetedAmount:C.number.isRequired});uf.propTypes={budgets:C.arrayOf(C.shape({id:C.string.isRequired,name:C.string.isRequired,createdAt:C.string.isRequired,transactions:C.arrayOf(Uy),categoryBudgets:C.arrayOf(My)})).isRequired,setSelectedBudget:C.func.isRequired,setViewMode:C.func.isRequired,setBudgets:C.func.isRequired,userId:C.string.isRequired};function cf({budget:t,categories:e,setViewMode:n,setBudgets:r,budgets:s,setSelectedBudget:i}){var b;const[o,a]=A.useState("expenses"),[l,u]=A.useState(!1),[d,f]=A.useState(null),[m,w]=A.useState(1),[_,k]=A.useState(!1),[S,p]=A.useState({name:"",amount:"",budgetedAmount:"",category:"",date:new Date().toLocaleDateString(),type:"expense",receipt:null}),[h,g]=A.useState(null),v=7,x=y=>y==="income"||y==="expense"?y:y==="expenses"?"expense":"income",E=y=>{const P=x(y||o);p({name:"",amount:"",budgetedAmount:"",category:"",date:new Date().toLocaleDateString(),type:P,receipt:null}),f(null),u(!0)},T=y=>{p({...y,budgetedAmount:y.budgetedAmount||""}),f(y),u(!0)},I=async()=>{if(!S.name.trim()||isNaN(S.amount)||!S.category.trim()){alert("Please fill in all required fields correctly");return}k(!0);try{const y={name:S.name.trim(),amount:Number.parseFloat(S.amount),budgetedAmount:S.budgetedAmount?Number.parseFloat(S.budgetedAmount):null,category:S.category,type:x(S.type),date:S.date,receipt:S.receipt};let P;if(d){const{error:M}=await xy(d.id,y);if(M){console.error("Error updating transaction:",M),alert("Failed to update transaction. Please try again.");return}P=(t.transactions||[]).map(oe=>oe.id===d.id?{...y,id:d.id}:oe)}else{const{data:M,error:oe}=await rf(t.id,y);if(oe){console.error("Error creating transaction:",oe),alert("Failed to create transaction. Please try again.");return}const he={...y,id:M[0].id};P=[...t.transactions||[],he]}const $={...t,transactions:P},D=s.map(M=>M.id===t.id?$:M);r(D),i(D.find(M=>M.id===t.id)),u(!1),f(null)}catch(y){console.error("Error saving transaction:",y),alert("Failed to save transaction. Please try again.")}finally{k(!1)}},V=async y=>{try{const{error:P}=await nf(t.id,{name:y,categoryBudgets:t.categoryBudgets});if(P)console.error("Error updating budget name:",P);else{const $=s.map(D=>D.id===t.id?{...D,name:y}:D);r($),i($.find(D=>D.id===t.id))}}catch(P){console.error("Error updating budget name:",P)}},j=(t.transactions||[]).filter(y=>y.type==="income").reduce((y,P)=>y+P.amount,0),W=(t.transactions||[]).filter(y=>y.type==="expense").reduce((y,P)=>y+P.amount,0),Le=(t.transactions||[]).filter(y=>y.type==="expense"&&y.budgetedAmount).reduce((y,P)=>y+P.budgetedAmount,0),De=j-W,Xe=lf(t),lt=(t.transactions||[]).filter(y=>y.type==="expense").reduce((y,P)=>(y[P.category]=(y[P.category]||0)+P.amount,y),{}),xe=Object.entries(lt).map(([y,P])=>{var $;return{category:y,amount:P,percentage:W>0?P/W*100:0,icon:(($=e.expense.find(D=>D.name===y))==null?void 0:$.icon)||""}}).sort((y,P)=>P.amount-y.amount).slice(0,5),ut=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"],O=(t.transactions||[]).filter(y=>y.type===x(o)).sort((y,P)=>new Date(P.date)-new Date(y.date)),L=Math.ceil(O.length/v),U=(m-1)*v,G=U+v,ne=O.slice(U,G),mt=y=>{a(y),w(1)},Ee=y=>{w(y)},tn=()=>{if(L<=1)return null;const y=[],P=5;let $=Math.max(1,m-Math.floor(P/2));const D=Math.min(L,$+P-1);D-$+1<P&&($=Math.max(1,D-P+1)),m>1&&y.push(c.jsx("button",{className:"pagination-button",onClick:()=>Ee(m-1),children:""},"prev")),$>1&&(y.push(c.jsx("button",{className:"pagination-button",onClick:()=>Ee(1),children:"1"},1)),$>2&&y.push(c.jsx("span",{className:"pagination-ellipsis",children:"..."},"ellipsis1")));for(let M=$;M<=D;M++)y.push(c.jsx("button",{className:`pagination-button ${m===M?"active":""}`,onClick:()=>Ee(M),children:M},M));return D<L&&(D<L-1&&y.push(c.jsx("span",{className:"pagination-ellipsis",children:"..."},"ellipsis2")),y.push(c.jsx("button",{className:"pagination-button",onClick:()=>Ee(L),children:L},L))),m<L&&y.push(c.jsx("button",{className:"pagination-button",onClick:()=>Ee(m+1),children:""},"next")),c.jsxs("div",{className:"pagination-container",children:[c.jsxs("div",{className:"pagination-info",children:["Showing ",U+1,"-",Math.min(G,O.length)," of ",O.length," transactions"]}),c.jsx("div",{className:"pagination-controls",children:y})]})};return c.jsxs("div",{children:[c.jsxs("div",{className:"header-nav",children:[c.jsx("button",{className:"cancelButton secondary-button",onClick:()=>n("budgets"),children:" Back"}),c.jsx("button",{className:"ai-insights-button primary-button",onClick:()=>n("ai"),children:" AI Finance Report"})]}),c.jsx("input",{className:"input budget-title-input no-border",value:t.name,onChange:y=>V(y.target.value),placeholder:"Budget Name"}),c.jsxs("div",{className:"budget-overview-card",children:[c.jsx("h3",{className:"overview-title",children:"Budget Overview"}),c.jsxs("div",{className:"overview-content",children:[c.jsxs("div",{className:"overview-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-label",children:"Total Income"}),c.jsxs("div",{className:"stat-value income",children:["$",j.toFixed(2)]})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("div",{className:"stat-label",children:"Total Spent"}),c.jsxs("div",{className:"stat-value expense",children:["$",W.toFixed(2)]})]}),Le>0&&c.jsxs("div",{className:"stat-item stat-item-full-width",children:[c.jsx("div",{className:"stat-label",children:"Total Budgeted"}),c.jsxs("div",{className:"stat-value",children:["$",Le.toFixed(2)]})]})]}),c.jsxs("div",{className:"balance-display",children:[c.jsx("div",{className:"balance-label",children:"Remaining Balance"}),c.jsxs("div",{className:`balance-amount ${De>=0?"income":"expense"}`,children:["$",De.toFixed(2)]})]}),xe.length>0&&c.jsxs("div",{className:"category-chart-section",children:[c.jsx("h4",{className:"chart-section-title",children:"Spending Breakdown"}),c.jsxs("div",{className:"chart-container-centered",children:[c.jsx("div",{className:"pie-chart-wrapper",children:c.jsxs("svg",{className:"pie-chart",viewBox:"0 0 200 200",width:"200",height:"200",onClick:y=>{(y.target.tagName==="svg"||y.target.tagName==="circle"||y.target.tagName==="text")&&g(null)},children:[xe.map((y,P)=>{let $=0;for(let dr=0;dr<P;dr++)$+=xe[dr].percentage;const D=$/100*360,M=($+y.percentage)/100*360,oe=y.percentage>50?1:0,he=D*Math.PI/180,nn=M*Math.PI/180,cr=100+80*Math.cos(he),vt=100+80*Math.sin(he),gf=100+80*Math.cos(nn),mf=100+80*Math.sin(nn),vf=["M 100 100",`L ${cr} ${vt}`,`A 80 80 0 ${oe} 1 ${gf} ${mf}`,"Z"].join(" ");return c.jsx("path",{d:vf,fill:ut[P%ut.length],stroke:"white",strokeWidth:"2",className:`pie-slice ${h===P?"selected":""}`,onClick:dr=>{dr.stopPropagation(),g(h===P?null:P)}},y.category)}),c.jsx("circle",{cx:"100",cy:"100",r:"35",fill:"white"}),c.jsx("text",{x:"100",y:"95",textAnchor:"middle",className:"chart-center-text",fontSize:"12",fill:"#6b7280",children:"Total"}),c.jsxs("text",{x:"100",y:"110",textAnchor:"middle",className:"chart-center-amount",fontSize:"14",fontWeight:"600",fill:"#374151",children:["$",W.toFixed(0)]})]})}),h!==null&&c.jsx("div",{className:"slice-details",children:c.jsxs("div",{className:"slice-details-content",children:[c.jsxs("div",{className:"slice-header",children:[c.jsx("div",{className:"slice-color-dot",style:{backgroundColor:ut[h%ut.length]}}),c.jsx("span",{className:"slice-icon",children:xe[h].icon}),c.jsx("span",{className:"slice-category",children:xe[h].category})]}),c.jsxs("div",{className:"slice-amount",children:["$",xe[h].amount.toFixed(2)]}),c.jsxs("div",{className:"slice-percentage",children:[xe[h].percentage.toFixed(1),"% of total spending"]})]})})]})]})]}),c.jsxs("div",{className:"budget-progress",children:[c.jsxs("div",{className:"progress-labels",children:[c.jsxs("span",{className:"income",children:["Income: $",j.toFixed(2)]}),c.jsxs("span",{className:"expense",children:["Spent: $",W.toFixed(2)]})]}),c.jsx("div",{className:"progress-bar-container",children:c.jsx("div",{className:"income-bar",children:j>0&&c.jsx("div",{className:"expense-overlay",style:{width:`${Math.min(W/j*100,100)}%`}})})})]})]}),Xe.categories.length>0&&c.jsxs("div",{className:"category-budget-list-card",children:[c.jsx("h3",{className:"category-budget-list-title",children:"Category Pacing"}),c.jsx("div",{className:"category-budget-list",children:Xe.categories.map(y=>{const P=y.budgeted>0?Math.min(y.actual/y.budgeted*100,100):y.actual>0?100:0;return c.jsxs("div",{className:"category-budget-list-row",children:[c.jsxs("div",{className:"category-budget-header",children:[c.jsx("div",{className:"category-budget-name",children:y.name||"Uncategorized"}),c.jsxs("div",{className:`pacing-indicator pacing-${y.status}`,title:y.tooltip,role:"status","aria-label":`${y.name||"Uncategorized"} pacing is ${y.label}`,children:[c.jsx("span",{className:"pacing-dot","aria-hidden":"true"}),c.jsx("span",{className:"pacing-label",children:y.label})]})]}),c.jsxs("div",{className:"category-budget-amounts",children:["$",y.actual.toFixed(2)," / $",y.budgeted.toFixed(2)]}),c.jsx("div",{className:"progress-bar",children:c.jsx("div",{className:`progress-fill ${y.actual>y.budgeted&&y.budgeted>0?"over":""}`,style:{width:`${P}%`}})})]},y.key||y.name)})})]}),c.jsxs("div",{className:"transactions-section",children:[c.jsxs("div",{className:"tabRow",children:[c.jsxs("button",{className:o==="expenses"?"tabActive":"tabInactive",onClick:()=>mt("expenses"),children:["Expenses (",(t.transactions||[]).filter(y=>y.type==="expense").length,")"]}),c.jsxs("button",{className:o==="income"?"tabActive":"tabInactive",onClick:()=>mt("income"),children:["Income (",(t.transactions||[]).filter(y=>y.type==="income").length,")"]})]}),O.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsxs("p",{children:["No ",x(o)," transactions yet."]}),c.jsxs("button",{className:"primary-button",onClick:()=>E(o),children:["Add Your First ",x(o)==="expense"?"Expense":"Income"]})]}):c.jsxs(c.Fragment,{children:[ne.map(y=>{var P;return c.jsx("div",{className:"transaction enhanced-transaction",onClick:()=>T(y),children:c.jsx("div",{className:"transaction-info",children:c.jsxs("div",{className:"transaction-main",children:[c.jsx("span",{className:"transaction-icon",children:((P=e[y.type].find($=>$.name===y.category))==null?void 0:P.icon)||""}),c.jsxs("div",{className:"transaction-details-main",children:[c.jsx("span",{className:"transaction-name",children:y.name}),c.jsxs("div",{className:"transaction-meta",children:[y.category,"  ",y.date,y.receipt&&c.jsx("span",{className:"receipt-indicator",children:""})]})]}),c.jsxs("div",{className:"transaction-amounts",children:[c.jsxs("span",{className:`transaction-amount ${y.type}`,children:[y.type==="income"?"+":"-","$",y.amount.toFixed(2)]}),y.budgetedAmount&&c.jsxs("span",{className:"budgeted-amount",children:["Budget: $",y.budgetedAmount.toFixed(2)]})]})]})})},y.id)}),tn()]})]}),c.jsx("button",{className:"fab",onClick:()=>E(o),children:"+"}),l&&c.jsx("div",{className:"modalBackdrop",children:c.jsxs("div",{className:"modalContent enhanced-modal",children:[c.jsx("h2",{className:"header modal-header",children:d?"Edit Transaction":`Add ${S.type==="expense"?"Expense":"Income"}`}),c.jsx("input",{className:"input",placeholder:"Description",value:S.name,onChange:y=>p({...S,name:y.target.value}),disabled:_}),c.jsx("input",{className:"input",placeholder:"Amount",type:"number",step:"0.01",value:S.amount,onChange:y=>p({...S,amount:y.target.value}),disabled:_}),S.type==="expense"&&c.jsx("input",{className:"input",placeholder:"Budgeted amount (optional)",type:"number",step:"0.01",value:S.budgetedAmount,onChange:y=>p({...S,budgetedAmount:y.target.value}),disabled:_}),c.jsxs("select",{className:"input",value:S.category,onChange:y=>p({...S,category:y.target.value}),disabled:_,children:[c.jsx("option",{value:"",children:"Select Category"}),(b=e[x(S.type)])==null?void 0:b.map(y=>c.jsxs("option",{value:y.name,children:[y.icon," ",y.name]},y.name))]}),c.jsxs("div",{className:"receipt-upload-section",children:[c.jsx("label",{className:"receipt-upload-label",children:" Attach Receipt (Optional)"}),c.jsx("input",{type:"file",accept:"image/*",className:"receipt-input",onChange:y=>{const P=y.target.files[0];if(P){const $=new FileReader;$.onloadend=()=>{p({...S,receipt:$.result})},$.readAsDataURL(P)}},disabled:_}),S.receipt&&c.jsxs("div",{className:"receipt-preview",children:[c.jsx("img",{src:S.receipt||"/placeholder.svg",alt:"Receipt preview",className:"receipt-preview-img"}),c.jsx("button",{type:"button",className:"remove-receipt",onClick:()=>p({...S,receipt:null}),disabled:_,children:"Remove"})]})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsxs("button",{className:"addButton primary-button",onClick:I,disabled:_,children:[_?"Saving...":d?"Update":"Add"," Transaction"]}),c.jsx("button",{className:"cancelButton secondary-button",onClick:()=>{u(!1),f(null)},disabled:_,children:"Cancel"})]})]})})]})}const dc=C.shape({id:C.string.isRequired,name:C.string.isRequired,amount:C.number.isRequired,budgetedAmount:C.number,category:C.string.isRequired,type:C.oneOf(["income","expense"]).isRequired,date:C.string.isRequired,receipt:C.string}),hc=C.shape({name:C.string.isRequired,icon:C.string.isRequired});cf.propTypes={budget:C.shape({id:C.string.isRequired,name:C.string.isRequired,transactions:C.arrayOf(dc),categoryBudgets:C.arrayOf(C.shape({category:C.string.isRequired,budgetedAmount:C.number.isRequired}))}).isRequired,categories:C.shape({income:C.arrayOf(hc).isRequired,expense:C.arrayOf(hc).isRequired}).isRequired,setViewMode:C.func.isRequired,setBudgets:C.func.isRequired,budgets:C.arrayOf(C.shape({id:C.string.isRequired,name:C.string.isRequired,transactions:C.arrayOf(dc)})).isRequired,setSelectedBudget:C.func.isRequired};function df({categories:t,setCategories:e,budgets:n,setViewMode:r}){const[s,i]=A.useState("expense"),[o,a]=A.useState(!1),[l,u]=A.useState({name:"",icon:""}),[d,f]=A.useState(null),m=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=()=>{if(!l.name.trim())return;if(t[s].some(h=>h.name===l.name.trim())){alert("Category already exists!");return}const p={...t,[s]:[...t[s],{name:l.name.trim(),icon:l.icon}]};e(p),a(!1),u({name:"",icon:""})},_=p=>{f({...p,originalName:p.name})},k=()=>{if(!d.name.trim())return;const p={...t,[s]:t[s].map(h=>h.name===d.originalName?{name:d.name.trim(),icon:d.icon}:h)};e(p),f(null)},S=p=>{if(n.some(v=>v.transactions.some(x=>x.category===p&&x.type===s))){alert("Cannot delete category in use.");return}const g={...t,[s]:t[s].filter(v=>v.name!==p)};e(g)};return c.jsxs("div",{children:[c.jsx("button",{className:"cancelButton secondary-button",onClick:()=>r("budgets"),children:" Back to Budgets"}),c.jsx("h1",{className:"header",children:"Manage Categories"}),c.jsxs("div",{className:"tabRow",children:[c.jsx("button",{className:s==="expense"?"tabActive":"tabInactive",onClick:()=>i("expense"),children:"Expenses"}),c.jsx("button",{className:s==="income"?"tabActive":"tabInactive",onClick:()=>i("income"),children:"Income"})]}),c.jsxs("button",{className:"addButton primary-button",onClick:()=>a(!0),children:["Add ",s.charAt(0).toUpperCase()+s.slice(1)," Category"]}),t[s].length===0?c.jsxs("p",{className:"empty-state",children:["No ",s," categories yet."]}):t[s].map(p=>c.jsx("div",{className:"transaction category-item",children:d&&d.originalName===p.name?c.jsxs("div",{className:"category-edit",children:[c.jsx("input",{className:"input",value:d.name,onChange:h=>f({...d,name:h.target.value})}),c.jsx("div",{className:"icon-selector",children:m.map(h=>c.jsx("button",{className:`icon-button ${d.icon===h?"selected":""}`,onClick:()=>f({...d,icon:h}),children:h},h))}),c.jsxs("div",{className:"category-actions",children:[c.jsx("button",{className:"addButton primary-button",onClick:k,children:"Save"}),c.jsx("button",{className:"cancelButton secondary-button",onClick:()=>f(null),children:"Cancel"})]})]}):c.jsxs("div",{className:"category-display",children:[c.jsxs("span",{className:"category-info",children:[p.icon," ",p.name]}),c.jsxs("div",{className:"category-actions",children:[c.jsx("button",{className:"action-button",onClick:()=>_(p),children:"Edit"}),c.jsx("button",{className:"action-button delete",onClick:()=>S(p.name),children:"Delete"})]})]})},p.name)),o&&c.jsx("div",{className:"modalBackdrop",children:c.jsxs("div",{className:"modalContent",children:[c.jsxs("h2",{className:"header modal-header",children:["Add ",s.charAt(0).toUpperCase()+s.slice(1)," Category"]}),c.jsx("input",{className:"input",placeholder:"Category Name",value:l.name,onChange:p=>u({...l,name:p.target.value})}),c.jsx("div",{className:"icon-selector",children:m.map(p=>c.jsx("button",{className:`icon-button ${l.icon===p?"selected":""}`,onClick:()=>u({...l,icon:p}),children:p},p))}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{className:"addButton primary-button",onClick:w,children:"Add"}),c.jsx("button",{className:"cancelButton secondary-button",onClick:()=>a(!1),children:"Cancel"})]})]})})]})}const By=C.shape({id:C.string.isRequired,name:C.string.isRequired,amount:C.number.isRequired,budgetedAmount:C.number,category:C.string.isRequired,type:C.oneOf(["income","expense"]).isRequired,date:C.string.isRequired,receipt:C.string}),fc=C.shape({name:C.string.isRequired,icon:C.string.isRequired});df.propTypes={categories:C.shape({income:C.arrayOf(fc).isRequired,expense:C.arrayOf(fc).isRequired}).isRequired,setCategories:C.func.isRequired,budgets:C.arrayOf(C.shape({id:C.string.isRequired,transactions:C.arrayOf(By).isRequired})).isRequired,setViewMode:C.func.isRequired};function hf({budget:t,setViewMode:e}){const[n,r]=A.useState(null),[s,i]=A.useState(!0),[o,a]=A.useState(null),l=A.useCallback(()=>{const d=t.transactions||[],f=d.filter(v=>v.type==="income").reduce((v,x)=>v+x.amount,0),m=d.filter(v=>v.type==="expense").reduce((v,x)=>v+x.amount,0),w=f-m,_=f>0?w/f*100:0,k={};d.filter(v=>v.type==="expense").forEach(v=>{k[v.category]=(k[v.category]||0)+v.amount});const S=Object.entries(k).sort(([,v],[,x])=>x-v)[0],p=new Date,h=d.filter(v=>{const x=new Date(v.date);return(p-x)/(1e3*60*60*24)<=7&&v.type==="expense"}).reduce((v,x)=>v+x.amount,0),g=d.filter(v=>{const x=new Date(v.date),E=(p-x)/(1e3*60*60*24);return E>7&&E<=14&&v.type==="expense"}).reduce((v,x)=>v+x.amount,0);return{totalIncome:f,totalExpenses:m,balance:w,savingsRate:_,expensesByCategory:k,topExpenseCategory:S,last7Days:h,previous7Days:g,transactionCount:d.length,avgTransactionAmount:d.length>0?(f+m)/d.length:0}},[t]),u=A.useCallback(async()=>{try{i(!0);const d=l(),f=await zy(d);r(f),a(null)}catch(d){a("Failed to generate AI insights. Please try again."),console.error("AI Insights Error:",d)}finally{i(!1)}},[l]);return A.useEffect(()=>{u()},[u]),s?c.jsxs("div",{children:[c.jsx("button",{className:"cancelButton secondary-button",onClick:()=>e("details"),children:" Back to Details"}),c.jsx("h1",{className:"header",children:"AI Financial Report"}),c.jsxs("div",{className:"ai-loading",children:[c.jsx("div",{className:"loading-spinner"}),c.jsx("p",{children:"Analyzing your financial data..."}),c.jsx("p",{className:"loading-subtext",children:"Generating personalized insights and recommendations"})]})]}):o?c.jsxs("div",{children:[c.jsx("button",{className:"cancelButton secondary-button",onClick:()=>e("details"),children:" Back to Details"}),c.jsx("h1",{className:"header",children:"AI Financial Report"}),c.jsxs("div",{className:"error-state",children:[c.jsx("p",{className:"error-message",children:o}),c.jsx("button",{className:"primary-button",onClick:u,children:"Try Again"})]})]}):c.jsxs("div",{children:[c.jsx("button",{className:"cancelButton secondary-button",onClick:()=>e("details"),children:" Back to Details"}),c.jsx("h1",{className:"header",children:"AI Financial Report"}),c.jsxs("div",{className:"compact-health-score",children:[c.jsxs("div",{className:"health-score-content",children:[c.jsxs("div",{className:"health-score-number",children:[n.healthScore,"/10"]}),c.jsx("div",{className:"health-score-label",children:"Financial Health"})]}),c.jsx("div",{className:"health-score-bar",children:c.jsx("div",{className:"health-score-fill",style:{width:`${n.healthScore/10*100}%`}})})]}),c.jsxs("div",{className:"report-section",children:[c.jsx("h2",{className:"section-title",children:" Budget Optimization"}),n.budgetSuggestions.map((d,f)=>c.jsxs("div",{className:"budget-suggestion",children:[d.rule&&c.jsxs("div",{className:"budget-rule",children:[c.jsx("h3",{children:d.rule}),c.jsxs("div",{className:"budget-breakdown",children:[c.jsx("div",{children:d.needs}),c.jsx("div",{children:d.wants}),c.jsx("div",{children:d.savings})]})]}),d.category&&c.jsxs("div",{className:"category-suggestion",children:[c.jsxs("strong",{children:[d.category,":"]})," Currently ",d.current," - ",d.suggestion]})]},f))]}),c.jsxs("div",{className:"summary-callout",children:[c.jsx("div",{className:"callout-icon",children:""}),c.jsxs("div",{className:"callout-content",children:[c.jsx("h3",{className:"callout-title",children:"Financial Overview"}),c.jsx("p",{className:"callout-text",children:n.summary})]})]}),c.jsxs("div",{className:"report-section",children:[c.jsx("h2",{className:"section-title",children:" Strengths & Areas for Growth"}),c.jsxs("div",{className:"strengths-improvements-grid",children:[c.jsxs("div",{className:"strengths-column",children:[c.jsx("h3",{className:"column-title",children:" Your Strengths"}),n.strengths.map((d,f)=>c.jsxs("div",{className:"strength-item-compact",children:[c.jsx("span",{className:"strength-icon",children:""}),c.jsx("span",{children:d})]},f))]}),c.jsxs("div",{className:"improvements-column",children:[c.jsx("h3",{className:"column-title",children:" Growth Areas"}),n.improvements.map((d,f)=>c.jsxs("div",{className:"improvement-item-compact",children:[c.jsx("div",{className:"improvement-title-compact",children:d.area}),c.jsx("div",{className:"improvement-action-compact",children:d.action})]},f))]})]})]}),c.jsxs("div",{className:"report-section",children:[c.jsx("h2",{className:"section-title",children:" Spending Insights"}),c.jsxs("div",{className:"analysis-grid-compact",children:[c.jsx("div",{className:"analysis-item-compact",children:n.spendingAnalysis.trend}),c.jsx("div",{className:"analysis-item-compact",children:n.spendingAnalysis.topCategory}),c.jsx("div",{className:"analysis-item-compact",children:n.spendingAnalysis.avgTransaction}),c.jsx("div",{className:"analysis-item-compact",children:n.spendingAnalysis.frequency})]})]}),c.jsxs("div",{className:"report-section",children:[c.jsx("h2",{className:"section-title",children:" Quick Savings Tips"}),c.jsx("div",{className:"tips-grid",children:n.savingsTips.slice(0,4).map((d,f)=>c.jsx("div",{className:"tip-item-compact",children:d},f))})]}),c.jsxs("div",{className:"report-section",children:[c.jsx("h2",{className:"section-title",children:" Recommended Goals"}),c.jsxs("div",{className:"goals-container-compact",children:[c.jsxs("div",{className:"goals-column",children:[c.jsx("h3",{children:"Next 3 Months"}),n.goals.shortTerm.slice(0,3).map((d,f)=>c.jsxs("div",{className:"goal-item-compact short-term",children:[c.jsx("span",{children:""}),d]},f))]}),c.jsxs("div",{className:"goals-column",children:[c.jsx("h3",{children:"6+ Months"}),n.goals.longTerm.slice(0,3).map((d,f)=>c.jsxs("div",{className:"goal-item-compact long-term",children:[c.jsx("span",{children:""}),d]},f))]})]})]}),c.jsx("div",{className:"report-actions",children:c.jsx("button",{className:"primary-button",onClick:u,children:" Generate New Report"})})]})}const Fy=C.shape({id:C.string.isRequired,name:C.string.isRequired,amount:C.number.isRequired,budgetedAmount:C.number,category:C.string.isRequired,type:C.oneOf(["income","expense"]).isRequired,date:C.string.isRequired,receipt:C.string});hf.propTypes={budget:C.shape({id:C.string.isRequired,name:C.string.isRequired,transactions:C.arrayOf(Fy)}).isRequired,setViewMode:C.func.isRequired};async function zy(t){var o,a;await new Promise(l=>setTimeout(l,2e3));const e=Wy(t),n=t.last7Days>t.previous7Days?"increasing":"decreasing",r=((o=t.topExpenseCategory)==null?void 0:o[0])||"Unknown",s=((a=t.topExpenseCategory)==null?void 0:a[1])||0,i=t.totalExpenses>0?s/t.totalExpenses*100:0;return{healthScore:e,summary:qy(t,e),strengths:Hy(t),improvements:Vy(t),spendingAnalysis:Gy(t,n,r,i),savingsTips:Ky(t),budgetSuggestions:Qy(t),goals:Jy(t)}}function Wy(t){let e=5;return t.savingsRate>20?e+=2:t.savingsRate>10?e+=1:t.savingsRate<0&&(e-=2),t.balance>0?e+=1:e-=1,t.transactionCount>10&&(e+=1),(t.topExpenseCategory?t.topExpenseCategory[1]/t.totalExpenses*100:0)>50&&(e-=1),Math.max(1,Math.min(10,e))}function qy(t,e){return e>=8?"Excellent financial health! You're demonstrating strong budgeting discipline with healthy savings and balanced spending.":e>=6?"Good financial foundation with room for optimization. A few adjustments could significantly improve your financial position.":e>=4?"Your finances need attention. Focus on increasing income, reducing expenses, or both to improve your financial stability.":"Critical financial situation requiring immediate action. Consider seeking financial counseling and implementing strict budgeting measures."}function Hy(t){const e=[];return t.savingsRate>15&&e.push("Strong savings discipline - you're saving above the recommended 15% rate"),t.transactionCount>15&&e.push("Excellent expense tracking - you're consistently recording transactions"),t.balance>0&&e.push("Positive cash flow - you're living within your means"),Object.keys(t.expensesByCategory).length>=4&&e.push("Diversified spending across multiple categories shows balanced lifestyle"),e.length===0&&e.push("You're taking the first step by tracking your finances - that's commendable!"),e}function Vy(t){const e=[];t.savingsRate<10&&e.push({area:"Increase Savings Rate",suggestion:`Aim to save at least 15-20% of income. Currently at ${t.savingsRate.toFixed(1)}%`,action:"Set up automatic transfers to savings account"}),t.balance<0&&e.push({area:"Address Negative Balance",suggestion:"You're spending more than you earn - immediate action needed",action:"Review and cut non-essential expenses immediately"});const n=t.topExpenseCategory?t.topExpenseCategory[1]/t.totalExpenses*100:0;return n>40&&e.push({area:"Diversify Spending",suggestion:`${t.topExpenseCategory[0]} represents ${n.toFixed(1)}% of expenses`,action:"Look for ways to reduce this dominant expense category"}),t.transactionCount<10&&e.push({area:"Improve Expense Tracking",suggestion:"More consistent transaction recording will provide better insights",action:"Set daily reminders to log expenses"}),e}function Gy(t,e,n,r){return{trend:e==="increasing"?" Spending increased in the last week":" Spending decreased in the last week",topCategory:` Highest expense category: ${n} (${r.toFixed(1)}% of total)`,avgTransaction:` Average transaction: $${t.avgTransactionAmount.toFixed(2)}`,frequency:` Transaction frequency: ${t.transactionCount} transactions recorded`}}function Ky(t){const e=[];return t.expensesByCategory.Groceries>t.totalExpenses*.15&&e.push(" Meal planning could reduce grocery costs by 15-20%"),t.expensesByCategory.Entertainment>t.totalExpenses*.1&&e.push(" Consider free entertainment alternatives to reduce costs"),t.expensesByCategory.Transportation>t.totalExpenses*.15&&e.push(" Explore carpooling or public transit options"),e.push(" Try the 24-hour rule: wait a day before non-essential purchases"),e.push(" Automate savings to make it effortless"),e}function Qy(t){const e=[],n=t.totalExpenses*.5,r=t.totalExpenses*.3,s=t.totalIncome*.2;return e.push({rule:"50/30/20 Budget Rule",needs:`Needs (50%): $${n.toFixed(2)}`,wants:`Wants (30%): $${r.toFixed(2)}`,savings:`Savings (20%): $${s.toFixed(2)}`}),Object.entries(t.expensesByCategory).forEach(([i,o])=>{const a=o/t.totalExpenses*100;a>30&&e.push({category:i,current:`${a.toFixed(1)}%`,suggestion:"Consider reducing this category to below 25% of total expenses"})}),e}function Jy(t){const e=[],n=[];if(t.savingsRate<15&&e.push("Increase savings rate to 15% within 2 months"),t.balance<t.totalIncome*.25&&e.push("Build emergency fund equal to 1 month of expenses"),e.push("Track all expenses for 30 consecutive days"),n.push("Build emergency fund covering 3-6 months of expenses"),n.push("Achieve 20% savings rate consistently"),n.push("Diversify income sources"),t.totalIncome>0){const r=t.totalExpenses*6;n.push(`Save $${r.toFixed(2)} for full emergency fund`)}return{shortTerm:e,longTerm:n}}const Ks=[25,50,75,100],Yy=1e3*60*60*24,No=Yy*7,bn=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Number(t||0)),ff=t=>({...t,amount:Number(t.amount||0),contributed_at:t.contributed_at||t.date||t.created_at||new Date().toISOString()}),Is=t=>{const e=(t.goal_contributions||t.contributions||[]).map(ff);return e.sort((n,r)=>new Date(r.contributed_at)-new Date(n.contributed_at)),{...t,targetAmount:Number(t.target_amount??t.targetAmount??0),targetDate:t.target_date||t.targetDate||null,status:t.status||"active",milestones:Array.isArray(t.milestones)&&t.milestones.length?t.milestones:Ks,linked_budget_id:t.linked_budget_id||t.linkedBudgetId||null,goal_contributions:e}},Xy=t=>{const e=t.created_at||t.createdAt,r=t.start_date||t.startDate||e,s=r?new Date(r):new Date;return Number.isNaN(s.getTime())?new Date:s},Zy=t=>{if(!t.targetDate)return null;const e=new Date(t.targetDate);return Number.isNaN(e.getTime())?null:e},e0=t=>{const e=new Date(t),n=e.getDay(),r=e.getDate()-n+(n===0?-6:1),s=new Date(e.setDate(r));return s.setHours(0,0,0,0),s},Pn=t=>{const e=new Date,n=t.goal_contributions||[],r=n.reduce((x,E)=>x+Number(E.amount||0),0),s=Number(t.targetAmount||0),i=s>0?Math.min(100,r/s*100):0,o=Xy(t),a=Zy(t);let l=a?a.getTime()-o.getTime():null;l!==null&&l<=0&&(l=No);const u=Math.max(0,e.getTime()-o.getTime()),d=l&&l>0?Math.min(1,Math.max(0,u/l)):1,f=s*d,m=l?Math.max(1,Math.ceil(l/No)):1,w=m>0?s/m:s,_=e0(e),k=new Date(_.getTime()+No),S=n.filter(x=>{const E=new Date(x.contributed_at);return E>=_&&E<k}).reduce((x,E)=>x+Number(E.amount||0),0),p=s*.02,h=r-f;let g="on-track";h>p?g="ahead":h<-p&&(g="behind");const v=Math.max(0,w-S);return{totalContributed:r,progress:i,weeklyTarget:w,contributedThisWeek:S,guidanceShortfall:v,pace:g,plannedTotal:f,totalWeeks:m}};function t0({setViewMode:t,budgets:e=[],setBudgets:n}){const{user:r}=Rl(),[s,i]=A.useState([]),[o,a]=A.useState(!0),[l,u]=A.useState(null),[d,f]=A.useState(!1),[m,w]=A.useState({name:"",targetAmount:"",targetDate:"",linkedBudgetId:""}),[_,k]=A.useState(!1),[S,p]=A.useState(""),[h,g]=A.useState(""),[v,x]=A.useState(""),[E,T]=A.useState(null),[I,V]=A.useState(null),j=A.useRef({}),[W,Le]=A.useState(!1),[De,Xe]=A.useState(!1);A.useEffect(()=>{r&&lt()},[r]);const lt=async()=>{if(r){a(!0),u(null);try{const{data:b,error:y}=await Cy(r.id);if(y){console.error("Error loading goals:",y),u(y.message||"Failed to load goals");return}const P=(b||[]).map(D=>Is(D));i(P);const $={};P.forEach(D=>{$[D.id]=Pn(D).progress}),j.current=$,P.length&&!S&&p(P[0].id)}catch(b){console.error("Unexpected error loading goals:",b),u(b.message||"Unexpected error loading goals")}finally{a(!1)}}},xe=async b=>{if(b.preventDefault(),!r)return;const y=parseFloat(m.targetAmount);if(!m.name.trim()||Number.isNaN(y)||y<=0){alert("Please provide a goal name and a positive target amount.");return}Le(!0);try{const{data:P,error:$}=await Ny(r.id,{name:m.name.trim(),targetAmount:y,targetDate:m.targetDate?new Date(m.targetDate).toISOString():null,milestones:Ks,status:"active",linkedBudgetId:m.linkedBudgetId||null});if($){console.error("Error creating goal:",$),alert($.message||"Failed to create goal");return}const D=P==null?void 0:P[0];if(D){const M=Is(D);i(oe=>[M,...oe]),j.current[M.id]=Pn(M).progress,p(M.id)}w({name:"",targetAmount:"",targetDate:"",linkedBudgetId:""}),f(!1)}catch(P){console.error("Unexpected error creating goal:",P),alert("Unexpected error creating goal. Please try again.")}finally{Le(!1)}},ut=async b=>{if(confirm("Delete this goal? Contributions will remain recorded."))try{const{error:y}=await by(b);if(y){console.error("Error deleting goal:",y),alert(y.message||"Failed to delete goal");return}i($=>{const D=$.filter(M=>M.id!==b);return D.length===0?p(""):b===S&&p(D[0].id),D});const P={...j.current};delete P[b],j.current=P}catch(y){console.error("Unexpected error deleting goal:",y),alert("Unexpected error deleting goal")}},O=async(b,y)=>{try{const{data:P,error:$}=await Ty(b.id,{linkedBudgetId:y||null});if($){console.error("Error linking budget:",$),alert($.message||"Failed to link budget");return}if(P!=null&&P[0]){const D=Is(P[0]);i(M=>M.map(oe=>oe.id===b.id?D:oe))}else i(D=>D.map(M=>M.id===b.id?{...M,linked_budget_id:y||null}:M))}catch(P){console.error("Unexpected error linking budget:",P),alert("Unexpected error while linking budget")}},L=()=>{k(!1),g(""),x("")},U=b=>{g(y=>b===""?y.slice(0,-1):b==="."&&y.includes(".")?y:`${y}${b}`)},G=async()=>{const b=parseFloat(h);if(!S||Number.isNaN(b)||b<=0){alert("Enter a valid contribution amount");return}const y=s.find($=>$.id===S);if(!y){alert("Select a goal");return}Xe(!0);const P=new Date().toISOString();try{const $=j.current[y.id]??Pn(y).progress,{data:D,error:M}=await Py(y.id,{amount:b,date:P,note:v});if(M){console.error("Error logging contribution:",M),alert(M.message||"Failed to log contribution");return}const oe=(D||[]).map(ff);if(oe.length){const he=Is({...y,goal_contributions:[...oe,...y.goal_contributions||[]]}),nn=Pn(he).progress;ne(he,$,nn),j.current[y.id]=nn,i(cr=>cr.map(vt=>vt.id===y.id?he:vt)),await mt(y,b,P)}L()}catch($){console.error("Unexpected error adding contribution:",$),alert("Unexpected error adding contribution")}finally{Xe(!1)}},ne=(b,y,P)=>{const D=(b.milestones||Ks).slice().sort((M,oe)=>M-oe).find(M=>y<M&&P>=M);D!==void 0&&(T(b.id),V({goalName:b.name,milestone:D}),setTimeout(()=>{T(null),V(null)},4e3))},mt=async(b,y,P)=>{if(!(!b.linked_budget_id||!n||!e.find(D=>D.id===b.linked_budget_id)))try{const D={name:`Goal Contribution - ${b.name}`,amount:y,budgetedAmount:0,category:"Savings Goals",type:"expense",date:P,receipt:null},{data:M,error:oe}=await rf(b.linked_budget_id,D);if(oe){console.error("Failed to sync contribution to budget:",oe);return}const he=M==null?void 0:M[0],nn=he?{id:he.id,name:he.name,amount:he.amount,budgetedAmount:he.budgeted_amount,category:he.category,type:he.type,date:he.date,receipt:he.receipt_url}:{id:`goal-sync-${Date.now()}`,...D};n(cr=>cr.map(vt=>vt.id===b.linked_budget_id?{...vt,transactions:[...vt.transactions||[],nn]}:vt))}catch(D){console.error("Unexpected error syncing contribution to budget:",D)}},Ee=b=>{const y=Pn(b);return(b.milestones||Ks).filter($=>y.progress>=$)},tn=A.useMemo(()=>[["1","2","3"],["4","5","6"],["7","8","9"],[".","0",""]],[]);return c.jsxs("div",{className:"goals-screen",children:[c.jsxs("div",{className:"goals-header",children:[c.jsx("button",{className:"ghost-button",onClick:()=>t("budgets"),children:" Budgets"}),c.jsx("h2",{children:"Savings Goals"}),c.jsx("p",{className:"tagline",children:"Track milestones, weekly pace, and stay motivated."})]}),l&&c.jsx("div",{className:"error-banner",children:l}),o?c.jsx("div",{className:"loading-goals",children:"Loading goals"}):s.length===0?c.jsxs("div",{className:"empty-state",children:[c.jsx("p",{children:"Start a new savings goal to build momentum."}),c.jsx("button",{className:"primary-button",onClick:()=>f(!0),children:"Create your first goal"})]}):s.map(b=>{const y=Pn(b),P=Ee(b);return c.jsxs("div",{className:"goal-card",children:[c.jsxs("div",{className:"goal-card-header",children:[c.jsxs("div",{children:[c.jsx("h3",{children:b.name}),c.jsx("span",{className:`goal-pace-badge ${y.pace}`,children:y.pace.replace("-"," ")}),y.progress>=100&&c.jsx("span",{className:"goal-complete",children:" Complete"})]}),c.jsx("button",{className:"icon-button",onClick:()=>ut(b.id),title:"Delete goal",children:""})]}),c.jsx("div",{className:"goal-progress-bar",children:c.jsx("div",{className:"goal-progress",style:{width:`${y.progress}%`}})}),c.jsxs("div",{className:"goal-progress-meta",children:[c.jsxs("span",{children:[bn(y.totalContributed)," saved"]}),c.jsxs("span",{children:["Target ",bn(b.targetAmount)]})]}),c.jsxs("div",{className:"goal-meta-grid",children:[c.jsxs("div",{children:[c.jsx("p",{className:"meta-label",children:"Weekly target"}),c.jsx("p",{className:"meta-value",children:bn(y.weeklyTarget)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"meta-label",children:"This week"}),c.jsx("p",{className:"meta-value",children:bn(y.contributedThisWeek)})]}),b.targetDate&&c.jsxs("div",{children:[c.jsx("p",{className:"meta-label",children:"Target date"}),c.jsx("p",{className:"meta-value",children:new Date(b.targetDate).toLocaleDateString()})]}),c.jsxs("div",{children:[c.jsx("p",{className:"meta-label",children:"Milestones"}),c.jsx("p",{className:"meta-value",children:P.length>0?`${P.join("%  ")}%`:""})]})]}),y.pace==="behind"&&y.guidanceShortfall>0&&c.jsxs("div",{className:"goal-guidance",children:["Add ",bn(y.guidanceShortfall)," this week to catch up."]}),c.jsx("div",{className:"goal-budget-link",children:c.jsxs("label",{children:["Sync with budget",c.jsxs("select",{value:b.linked_budget_id||"",onChange:$=>O(b,$.target.value),children:[c.jsx("option",{value:"",children:"Not linked"}),e.map($=>c.jsx("option",{value:$.id,children:$.name},$.id))]})]})}),b.goal_contributions&&b.goal_contributions.length>0&&c.jsxs("div",{className:"goal-contributions",children:[c.jsx("h4",{children:"Recent contributions"}),c.jsx("ul",{children:b.goal_contributions.slice(0,4).map($=>c.jsxs("li",{children:[c.jsx("span",{children:new Date($.contributed_at).toLocaleDateString()}),c.jsx("span",{children:bn($.amount)})]},$.id))})]})]},b.id)}),c.jsx("button",{className:"fab",onClick:()=>{if(!s.length){f(!0);return}!S&&s.length&&p(s[0].id),k(!0)},title:"Log contribution",children:""}),c.jsx("button",{className:"secondary-button",onClick:()=>f(!0),style:{width:"100%",marginTop:"1rem"},children:"New goal"}),d&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal",children:[c.jsx("h3",{children:"Create goal"}),c.jsxs("form",{onSubmit:xe,className:"goal-form",children:[c.jsxs("label",{children:["Goal name",c.jsx("input",{type:"text",value:m.name,onChange:b=>w(y=>({...y,name:b.target.value})),placeholder:"Emergency fund",required:!0})]}),c.jsxs("label",{children:["Target amount",c.jsx("input",{type:"number",min:"0",step:"0.01",value:m.targetAmount,onChange:b=>w(y=>({...y,targetAmount:b.target.value})),placeholder:"5000",required:!0})]}),c.jsxs("label",{children:["Target date",c.jsx("input",{type:"date",value:m.targetDate,onChange:b=>w(y=>({...y,targetDate:b.target.value}))})]}),c.jsxs("label",{children:["Link to budget",c.jsxs("select",{value:m.linkedBudgetId,onChange:b=>w(y=>({...y,linkedBudgetId:b.target.value})),children:[c.jsx("option",{value:"",children:"Not linked"}),e.map(b=>c.jsx("option",{value:b.id,children:b.name},b.id))]})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{type:"button",className:"ghost-button",onClick:()=>f(!1),children:"Cancel"}),c.jsx("button",{type:"submit",className:"primary-button",disabled:W,children:W?"Saving":"Create"})]})]})]})}),_&&c.jsx("div",{className:"modal-backdrop",children:c.jsxs("div",{className:"modal keypad-modal",children:[c.jsx("h3",{children:"Log contribution"}),c.jsxs("label",{children:["Choose goal",c.jsx("select",{value:S,onChange:b=>p(b.target.value),children:s.map(b=>c.jsx("option",{value:b.id,children:b.name},b.id))})]}),c.jsx("div",{className:"keypad-display",children:h||"0"}),c.jsx("div",{className:"numeric-keypad",children:tn.map((b,y)=>c.jsx("div",{className:"keypad-row",children:b.map(P=>c.jsx("button",{type:"button",onClick:()=>U(P),children:P},P))},y))}),c.jsxs("label",{children:["Note (optional)",c.jsx("input",{type:"text",value:v,onChange:b=>x(b.target.value),placeholder:"Paycheck transfer"})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{type:"button",className:"ghost-button",onClick:L,children:"Cancel"}),c.jsx("button",{type:"button",className:"primary-button",onClick:G,disabled:De,children:De?"Saving":"Log"})]})]})}),E&&c.jsx("div",{className:"confetti-overlay",children:Array.from({length:60}).map((b,y)=>c.jsx("span",{className:"confetti-piece",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*1.5}s`},children:""},y))}),I&&c.jsxs("div",{className:"milestone-banner",children:[c.jsx("strong",{children:I.goalName})," reached ",I.milestone,"% of the goal!"]})]})}function n0(){const[t,e]=A.useState(!1),[n,r]=A.useState(""),[s,i]=A.useState(""),[o,a]=A.useState(""),[l,u]=A.useState(!1),[d,f]=A.useState(""),m=async()=>{u(!0),f("");try{const{error:k}=await Oa("test@me.com","pass123");k&&f(k.message||"Unable to start demo session")}catch(k){console.error("Demo login error:",k),f("Demo login failed. Please try again.")}finally{u(!1)}},w=async k=>{k.preventDefault(),u(!0),f("");try{if(t){if(s!==o){f("Passwords do not match"),u(!1);return}if(s.length<6){f("Password must be at least 6 characters"),u(!1);return}const{error:S}=await gy(n,s);S?f(S.message):(f(""),e(!1),i(""),a(""))}else{const{error:S}=await Oa(n,s);S&&f(S.message)}}catch(S){f("An unexpected error occurred"),console.error("Auth error:",S)}finally{u(!1)}},_=async()=>{u(!0),f("");try{const{error:k}=await my();k&&f(k.message)}catch(k){f("Failed to sign in with Google"),console.error("Google auth error:",k)}finally{u(!1)}};return c.jsx("div",{className:"login-container",children:c.jsxs("div",{className:"login-content",children:[c.jsxs("div",{className:"login-header",children:[c.jsx("h1",{className:"login-title",children:"Pocket Budget"}),c.jsx("p",{className:"login-subtitle",children:t?"Create your account to get started":"Welcome back! Sign in to continue"})]}),c.jsxs("div",{className:"login-form-container",children:[d&&c.jsx("div",{className:"error-message",children:d}),c.jsx("button",{onClick:m,className:"google-button",style:{background:"linear-gradient(135deg, #0ea5e9, #8b5cf6)",color:"white",border:"none",marginBottom:"1rem"},disabled:l,children:" Demo Login (test@me.com)"}),c.jsxs("form",{onSubmit:w,className:"login-form",children:[c.jsx("input",{type:"email",placeholder:"Email address",value:n,onChange:k=>r(k.target.value),className:"input login-input",required:!0,disabled:l}),c.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:k=>i(k.target.value),className:"input login-input",required:!0,disabled:l,minLength:6}),t&&c.jsx("input",{type:"password",placeholder:"Confirm password",value:o,onChange:k=>a(k.target.value),className:"input login-input",required:!0,disabled:l,minLength:6}),c.jsx("button",{type:"submit",className:"primary-button login-button",disabled:l,children:l?"Please wait...":t?"Create Account":"Sign In"})]}),c.jsx("div",{className:"login-divider",children:c.jsx("span",{children:"or"})}),c.jsxs("button",{onClick:_,className:"google-button",disabled:l,children:[c.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),c.jsx("div",{className:"login-switch",children:c.jsxs("p",{children:[t?"Already have an account?":"Don't have an account?"," ",c.jsx("button",{type:"button",onClick:()=>{e(!t),f(""),r(""),i(""),a("")},className:"login-switch-button",disabled:l,children:t?"Sign In":"Sign Up"})]})})]})]})})}function Qs({message:t="Loading"}){return c.jsx("div",{className:"loading-screen",children:c.jsxs("div",{className:"loading-content",children:[c.jsx("h1",{className:"header",children:"Pocket Budget"}),c.jsx("div",{className:"loading-spinner-large"}),c.jsxs("p",{className:"loading-text",children:[t,"..."]})]})})}Qs.propTypes={message:C.string};function pf({title:t,showLogout:e=!1}){const{user:n,userProfile:r}=Rl(),s=async()=>{confirm("Are you sure you want to sign out?")&&await vy()};return c.jsx("div",{className:"app-header",children:c.jsxs("div",{className:"header-content",children:[c.jsx("h1",{className:"header-title",children:t}),e&&n&&c.jsxs("div",{className:"header-user",children:[c.jsx("span",{className:"user-email",children:(r==null?void 0:r.full_name)||n.email}),c.jsx("button",{onClick:s,className:"logout-button",title:"Sign out",children:""})]})]})})}pf.propTypes={title:C.string.isRequired,showLogout:C.bool};function pc(){const[t,e]=A.useState(null),[n,r]=A.useState(!1);A.useEffect(()=>{const a=l=>{l.preventDefault(),e(l),r(!0)};return window.addEventListener("beforeinstallprompt",a),()=>window.removeEventListener("beforeinstallprompt",a)},[]);const s=async()=>{if(!t)return;t.prompt();const{outcome:a}=await t.userChoice;console.log(a==="accepted"?"User accepted the install prompt":"User dismissed the install prompt"),e(null),r(!1)},i=()=>{r(!1),localStorage.setItem("installPromptDismissed",Date.now()+7*24*60*60*1e3)};A.useEffect(()=>{const a=localStorage.getItem("installPromptDismissed");a&&Date.now()<Number.parseInt(a)&&r(!1)},[]);const o=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;return!n||o?null:c.jsx("div",{className:"install-prompt",children:c.jsxs("div",{className:"install-prompt-content",children:[c.jsx("div",{className:"install-prompt-icon",children:""}),c.jsxs("div",{className:"install-prompt-text",children:[c.jsx("h3",{children:"Install Pocket Budget"}),c.jsx("p",{children:"Add to your home screen for a better experience!"})]}),c.jsxs("div",{className:"install-prompt-actions",children:[c.jsx("button",{onClick:s,className:"install-button",children:"Install"}),c.jsx("button",{onClick:i,className:"dismiss-button",children:""})]})]})})}const gc={income:[{name:"Salary",icon:""},{name:"Freelance",icon:""},{name:"Investment",icon:""},{name:"Business",icon:""},{name:"Gift",icon:""}],expense:[{name:"Groceries",icon:""},{name:"Rent",icon:""},{name:"Transportation",icon:""},{name:"Entertainment",icon:""},{name:"Bills",icon:""},{name:"Shopping",icon:""}]},mc=()=>({income:gc.income.map(t=>({...t})),expense:gc.expense.map(t=>({...t}))});function r0(){const{user:t,loading:e,initializing:n}=Rl(),[r,s]=A.useState([]),[i,o]=A.useState(mc),[a,l]=A.useState(null),[u,d]=A.useState("budgets"),[f,m]=A.useState(!1);A.useEffect(()=>{t||(s([]),o(mc()),m(!1))},[t]),A.useEffect(()=>{if(!t||e||n)return;let _=!0;m(!0);const k=ky(t.id),S=Ey(t.id);return k.then(({data:p,error:h})=>{if(!_)return;if(h){console.error("Error loading budgets:",h);return}const g=(p==null?void 0:p.map(v=>{var x;return{id:v.id,name:v.name,createdAt:new Date(v.created_at).toLocaleDateString(),categoryBudgets:v.category_budgets||[],transactions:((x=v.transactions)==null?void 0:x.map(E=>({id:E.id,name:E.name,amount:E.amount,budgetedAmount:E.budgeted_amount,category:E.category,type:E.type,date:E.date,receipt:E.receipt_url})))||[]}}))||[];s(g)}).catch(p=>{_&&console.error("Error loading budgets:",p)}).finally(()=>{_&&m(!1)}),S.then(({data:p,error:h})=>{if(_){if(h&&h.code!=="PGRST116"){console.error("Error loading categories:",h);return}p!=null&&p.categories&&o(p.categories)}}).catch(p=>{_&&console.error("Error loading categories:",p)}),()=>{_=!1}},[t,e,n]);const w=async _=>{if(o(_),t)try{await jy(t.id,_)}catch(k){console.error("Error updating categories:",k)}};return n?c.jsx(Qs,{message:"Initializing"}):!t&&!e?c.jsxs(c.Fragment,{children:[c.jsx(n0,{}),c.jsx(pc,{})]}):t&&f?c.jsx(Qs,{message:"Loading your data"}):e&&t?c.jsx(Qs,{message:"Setting up your account"}):c.jsxs("div",{className:"container",children:[c.jsx(pf,{title:"Pocket Budget",showLogout:u!=="ai"}),c.jsx(pc,{}),u==="budgets"&&c.jsx(uf,{budgets:r,setSelectedBudget:l,setViewMode:d,setBudgets:s,userId:t.id}),u==="goals"&&c.jsx(t0,{setViewMode:d,budgets:r,setBudgets:s}),u==="details"&&a&&c.jsx(cf,{budget:a,categories:i,setViewMode:d,setBudgets:s,budgets:r,setSelectedBudget:l}),u==="categories"&&c.jsx(df,{categories:i,setCategories:w,budgets:r,setViewMode:d}),u==="ai"&&a&&c.jsx(hf,{budget:a,setViewMode:d})]})}function s0(){return c.jsx(of,{children:c.jsx(r0,{})})}const i0=document.getElementById("root"),o0=bh(i0);o0.render(c.jsx(s0,{}));
